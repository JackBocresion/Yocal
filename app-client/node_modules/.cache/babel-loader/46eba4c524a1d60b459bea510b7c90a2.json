{"ast":null,"code":"var _jsxFileName = \"/Users/jackbocresion/Desktop/YoCal/client/app-client/src/components/Home.jsx\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Event from './animatedEvent';\nimport selectedEvent from './selectedEvent';\nimport { AnimatePresence, AnimateSharedLayout, motion, resolveMotionValue } from 'framer-motion';\nimport Friendevent from './Friendevent';\nimport { userData } from '../App';\nimport { useCallback } from 'react';\nimport { createCalendar } from \"./functions/calendars\";\n\nconst Home = () => {\n  const user = useContext(userData); // console.log(user, 'context');\n\n  const [state, setState] = useState({\n    month: new Date().getMonth(),\n    year: new Date().getFullYear()\n  });\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n  const highlightDate = item => {\n    if (item + 1 == new Date().toString().split(' ')[2] && state.month == new Date().getMonth() && state.year == new Date().getFullYear()) {\n      return 'date highlight';\n    } else {\n      return 'date';\n    }\n  };\n\n  const upMonth = () => {\n    const statee = { ...state\n    };\n\n    if (state.month == 11) {\n      statee.year += 1;\n      statee.month = 0;\n    } else {\n      statee.month = (statee.month + 1) % 12;\n    }\n\n    console.log(state, 'state');\n    setState(statee);\n  };\n\n  const downMonth = () => {\n    const statee = { ...state\n    };\n\n    if (statee.month == 0) {\n      statee.year -= 1;\n      statee.month = 11;\n    } else {\n      statee.month = (statee.month - 1) % 12;\n    }\n\n    setState(statee);\n  }; //const [events, setEvents] = useState(0);\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"month\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  }, user.username)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"prev\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    onClick: () => downMonth(),\n    className: \"btn btn-secondary month-nav \",\n    whileHover: {\n      scale: 1.1\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    class: \"bi bi-caret-left-fill\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"next\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    onClick: () => upMonth(),\n    className: \"btn btn-secondary month-nav\",\n    whileHover: {\n      scale: 1.1\n    },\n    transition: {},\n    whileTap: {\n      scale: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    class: \"bi bi-caret-right-fill\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"monthName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, months[state.month]), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"yearNum\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, state.year)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cal-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"weekdays\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 16\n    }\n  }, \"Mo\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 16\n    }\n  }, \"Tu\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 16\n    }\n  }, \"We\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 16\n    }\n  }, \"Th\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 16\n    }\n  }, \"Fr\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 16\n    }\n  }, \"Sa\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 16\n    }\n  }, \"Su\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"days\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 10\n    }\n  }, createCalendar(state.month, state.year).map(item => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 16\n    }\n  }, item == -1 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"wrong\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 22\n    }\n  }, item == -1 ? '-' : item + 1) : /*#__PURE__*/React.createElement(Link, {\n    to: `/home/${1 + item}/${state.month}/${state.year}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: highlightDate(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, item + 1))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(AnimateSharedLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    className: \"float pt-4\",\n    initial: {\n      opacity: 0,\n      y: -100\n    },\n    animate: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        when: 'afterChildren',\n        staggerChildren: 0.4\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, user.events && user.events // .map((d) => (\n  //       new Date().getDate() - 2 <=\n  //          new Date(d.date).getDate() &&\n  //       new Date().getMonth() <=\n  //          new Date(d.date).getMonth() &&\n  //       new Date().getFullYear() <=\n  //          new Date(d.date).getFullYear()==true?d:null\n  // ))\n  .map((item, index) => item.id == user.data.id ? /*#__PURE__*/React.createElement(Event, {\n    index: index,\n    title: item.title,\n    date: item.date,\n    duration: item.duration,\n    onDelete: () => leaveEvent(item.relation),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 28\n    }\n  }) : /*#__PURE__*/React.createElement(Friendevent, {\n    index: index,\n    title: item.title,\n    date: item.date,\n    duration: item.duration,\n    owner: item.username,\n    onLeave: () => leaveEvent(item.relation),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 28\n    }\n  })))));\n  const variants = {\n    hidden: {\n      opacity: 0\n    },\n    visible: {\n      transition: {\n        staggerChildren: 1,\n        delayChildren: 1\n      }\n    }\n  };\n\n  async function leaveEvent(realtionship) {\n    // console.log(realtionship, 'relationshp');\n    const cookie = localStorage.getItem('token');\n    return await axios.post(`http://localhost:8000/leaveevent/${realtionship}`, {}, {\n      headers: {\n        Authorization: 'Bearer ' + cookie\n      }\n    });\n  }\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/jackbocresion/Desktop/YoCal/client/app-client/src/components/Home.jsx"],"names":["React","useState","useEffect","useContext","axios","Link","Event","selectedEvent","AnimatePresence","AnimateSharedLayout","motion","resolveMotionValue","Friendevent","userData","useCallback","createCalendar","Home","user","state","setState","month","Date","getMonth","year","getFullYear","months","highlightDate","item","toString","split","upMonth","statee","console","log","downMonth","username","scale","map","opacity","y","transition","when","staggerChildren","events","index","id","data","title","date","duration","leaveEvent","relation","variants","hidden","visible","delayChildren","realtionship","cookie","localStorage","getItem","post","headers","Authorization"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Event from './animatedEvent';\nimport selectedEvent from './selectedEvent';\nimport {\n   AnimatePresence,\n   AnimateSharedLayout,\n   motion,\n   resolveMotionValue,\n} from 'framer-motion';\nimport Friendevent from './Friendevent';\nimport { userData } from '../App';\nimport { useCallback } from 'react';\nimport {createCalendar} from \"./functions/calendars\"\nconst Home = () => {\n   const user = useContext(userData);\n   // console.log(user, 'context');\n   const [state, setState] = useState({\n      month: new Date().getMonth(),\n      year: new Date().getFullYear(),\n   });\n   const months = [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December',\n   ];\n\n   const highlightDate = (item) => {\n      if (\n         item + 1 == new Date().toString().split(' ')[2] &&\n         state.month == new Date().getMonth() &&\n         state.year == new Date().getFullYear()\n      ) {\n         return 'date highlight';\n      } else {\n         return 'date';\n      }\n   };\n\n   const upMonth = () => {\n      const statee = { ...state };\n      if (state.month == 11) {\n         statee.year += 1;\n         statee.month = 0;\n      } else {\n         statee.month = (statee.month + 1) % 12;\n      }\n      console.log(state, 'state');\n      setState(statee);\n   };\n   const downMonth = () => {\n      const statee = { ...state };\n      if (statee.month == 0) {\n         statee.year -= 1;\n         statee.month = 11;\n      } else {\n         statee.month = (statee.month - 1) % 12;\n      }\n\n      setState(statee);\n   };\n\n\n   //const [events, setEvents] = useState(0);\n   return (\n      <React.Fragment>\n         <div className=\"month\">\n            <ul>\n               <li>\n                  <b>{user.username}</b>\n               </li>\n               <br />\n               <li className=\"prev\">\n                  <motion.button\n                     onClick={() => downMonth()}\n                     className=\"btn btn-secondary month-nav \"\n                     whileHover={{ scale: 1.1 }}\n                     whileTap={{ scale: 0.9 }}\n                  >\n                     {/* &#10094; */}\n                     <svg\n                        width=\"1em\"\n                        height=\"1em\"\n                        viewBox=\"0 0 16 16\"\n                        class=\"bi bi-caret-left-fill\"\n                        fill=\"currentColor\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                     >\n                        <path d=\"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\" />\n                     </svg>\n                  </motion.button>\n               </li>\n               <li className=\"next\">\n                  <motion.button\n                     onClick={() => upMonth()}\n                     className=\"btn btn-secondary month-nav\"\n                     whileHover={{ scale: 1.1 }}\n                     transition={{}}\n                     whileTap={{ scale: 0.9 }}\n                  >\n                     {/* &#10095; */}\n                     <svg\n                        width=\"1em\"\n                        height=\"1em\"\n                        viewBox=\"0 0 16 16\"\n                        class=\"bi bi-caret-right-fill\"\n                        fill=\"currentColor\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                     >\n                        <path d=\"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\" />\n                     </svg>\n                  </motion.button>\n               </li>\n               <li>\n                  <span id=\"monthName\">{months[state.month]}</span>\n                  <br />\n                  <span id=\"yearNum\">{state.year}</span>\n               </li>\n            </ul>\n         </div>\n         <div className=\"cal-flex\">\n            <ul className=\"weekdays\">\n               <li>Mo</li>\n               <li>Tu</li>\n               <li>We</li>\n               <li>Th</li>\n               <li>Fr</li>\n               <li>Sa</li>\n               <li>Su</li>\n            </ul>\n         </div>\n         <br />\n         <ul className=\"days\">\n            {createCalendar(state.month, state.year).map((item) => (\n               <li>\n                  {item == -1 ? (\n                     <span className=\"wrong\">\n                        {item == -1 ? '-' : item + 1}\n                     </span>\n                  ) : (\n                     <Link\n                        to={`/home/${1 + item}/${state.month}/${state.year}`}\n                     >\n                        <span className={highlightDate(item)}>{item + 1}</span>\n                     </Link>\n                  )}\n               </li>\n            ))}\n         </ul>\n\n         <br />\n         <br />\n         {/* <h4 className=\"btn btn-info\">\n            {user.events.filter((i) => new Date(i.date) > new Date()).length}\n         </h4>\n         <h4 className=\"btn btn-info\">\n            {user.events.filter((i) => new Date(i.date) == new Date()).length}\n            <h4 className=\"btn btn-info\">\n               {user.events.filter((i) => new Date(i.date) > new Date()).length}\n            </h4>\n         </h4> */}\n         <AnimateSharedLayout>\n            <motion.div\n               className=\"float pt-4\"\n               initial={{ opacity: 0, y: -100 }}\n               animate={{\n                  opacity: 1,\n                  y: 0,\n                  transition: {\n                     when: 'afterChildren',\n                     staggerChildren: 0.4,\n                  },\n               }}\n            >\n               {user.events &&\n                  user.events\n                     // .map((d) => (\n                     //       new Date().getDate() - 2 <=\n                     //          new Date(d.date).getDate() &&\n                     //       new Date().getMonth() <=\n                     //          new Date(d.date).getMonth() &&\n                     //       new Date().getFullYear() <=\n                     //          new Date(d.date).getFullYear()==true?d:null\n                     // ))\n                     .map((item, index) =>\n                        item.id == user.data.id ? (\n                           <Event\n                              index={index}\n                              title={item.title}\n                              date={item.date}\n                              duration={item.duration}\n                              onDelete={() => leaveEvent(item.relation)}\n                           />\n                        ) : (\n                           <Friendevent\n                              index={index}\n                              title={item.title}\n                              date={item.date}\n                              duration={item.duration}\n                              owner={item.username}\n                              onLeave={() => leaveEvent(item.relation)}\n                           />\n                        )\n                     )}\n            </motion.div>\n         </AnimateSharedLayout>\n      </React.Fragment>\n   );\n\n   const variants = {\n      hidden: { opacity: 0 },\n      visible: { transition: { staggerChildren: 1, delayChildren: 1 } },\n   };\n   async function leaveEvent(realtionship) {\n      // console.log(realtionship, 'relationshp');\n      const cookie = localStorage.getItem('token');\n      return await axios.post(\n         `http://localhost:8000/leaveevent/${realtionship}`,\n         {},\n         { headers: { Authorization: 'Bearer ' + cookie } }\n      );\n   }\n};\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}