{"ast":null,"code":"var _jsxFileName = \"/Users/jackbocresion/Desktop/YoCal copy/client/app-client/src/components/Home.jsx\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link, useLocation } from 'react-router-dom';\nimport Event from './animatedEvent';\nimport selectedEvent from './selectedEvent';\nimport { AnimatePresence, AnimateSharedLayout, motion, resolveMotionValue } from 'framer-motion';\nimport Friendevent from './Friendevent';\nimport { userData } from '../App';\nimport { useCallback } from 'react';\nimport { createCalendar, months, highlightDate } from './functions/calendars';\n\nconst Home = () => {\n  const [user, setUser] = useContext(userData); // console.log(user, 'context');\n\n  const [state, setState] = useState({\n    month: new Date().getMonth(),\n    year: new Date().getFullYear()\n  });\n\n  const upMonth = () => {\n    const statee = { ...state\n    };\n\n    if (state.month == 11) {\n      statee.year += 1;\n      statee.month = 0;\n    } else {\n      statee.month = (statee.month + 1) % 12;\n    }\n\n    console.log(state, 'state');\n    setState(statee);\n  };\n\n  const downMonth = () => {\n    const statee = { ...state\n    };\n\n    if (statee.month == 0) {\n      statee.year -= 1;\n      statee.month = 11;\n    } else {\n      statee.month = (statee.month - 1) % 12;\n    }\n\n    setState(statee);\n  }; //const [events, setEvents] = useState(0);\n\n\n  const location = useLocation();\n  useEffect(() => {\n    setUser({\n      username: user.username,\n      uuid: user.uuid,\n      events: user.events\n    });\n  }, [location]);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"month\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }, user.username)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"prev\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    onClick: () => downMonth(),\n    className: \"btn btn-secondary month-nav \",\n    whileHover: {\n      scale: 1.1\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    class: \"bi bi-caret-left-fill\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"next\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    onClick: () => upMonth(),\n    className: \"btn btn-secondary month-nav\",\n    whileHover: {\n      scale: 1.1\n    },\n    transition: {},\n    whileTap: {\n      scale: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    class: \"bi bi-caret-right-fill\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"monthName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, months[state.month]), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"yearNum\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, state.year)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cal-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"weekdays\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 16\n    }\n  }, \"Mo\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 16\n    }\n  }, \"Tu\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 16\n    }\n  }, \"We\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 16\n    }\n  }, \"Th\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 16\n    }\n  }, \"Fr\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 16\n    }\n  }, \"Sa\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 16\n    }\n  }, \"Su\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"days\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 10\n    }\n  }, createCalendar(state.month, state.year).map(item => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 16\n    }\n  }, item == -1 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"wrong\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 22\n    }\n  }, item == -1 ? '-' : item + 1) : /*#__PURE__*/React.createElement(Link, {\n    to: `/home/${1 + item}/${state.month}/${state.year}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: highlightDate(item, state),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, item + 1))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(AnimateSharedLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    className: \"float pt-4\",\n    initial: {\n      opacity: 0,\n      y: -100\n    },\n    animate: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        when: 'afterChildren',\n        staggerChildren: 0.4\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, user.events && user.events.valify().filter(i => i.date > new Date()).map((item, i) => item.creator == user.uuid ? /*#__PURE__*/React.createElement(Event, {\n    index: i,\n    uid: item.eventid,\n    title: item.title,\n    date: item.date,\n    duration: item.duration,\n    onDelete: () => leaveEvent(item.eventid),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 28\n    }\n  }) : null // <Friendevent\n  //    uid={item.eventid}\n  //    title={item.title}\n  //    date={item.date}\n  //    duration={item.duration}\n  //    owner={item.username}\n  //    onLeave={() => leaveEvent(item.eventid)}\n  // />\n  ))));\n  const variants = {\n    hidden: {\n      opacity: 0\n    },\n    visible: {\n      transition: {\n        staggerChildren: 1,\n        delayChildren: 1\n      }\n    }\n  };\n\n  async function leaveEvent(uid) {\n    const cookie = localStorage.getItem('token');\n\n    try {\n      await axios.post(`http://localhost:8000/delete/${uid}`, {}, {\n        headers: {\n          Authorization: 'Bearer ' + cookie\n        }\n      });\n      user.events.delete(uid);\n    } catch {\n      console.log('was not able to delete event!');\n    }\n  }\n};\n\nexport default Home;\n\nMap.prototype.del = function (key) {\n  this.delete(key);\n  return this;\n};","map":{"version":3,"sources":["/Users/jackbocresion/Desktop/YoCal copy/client/app-client/src/components/Home.jsx"],"names":["React","useState","useEffect","useContext","axios","Link","useLocation","Event","selectedEvent","AnimatePresence","AnimateSharedLayout","motion","resolveMotionValue","Friendevent","userData","useCallback","createCalendar","months","highlightDate","Home","user","setUser","state","setState","month","Date","getMonth","year","getFullYear","upMonth","statee","console","log","downMonth","location","username","uuid","events","scale","textAlign","map","item","opacity","y","transition","when","staggerChildren","valify","filter","i","date","creator","eventid","title","duration","leaveEvent","variants","hidden","visible","delayChildren","uid","cookie","localStorage","getItem","post","headers","Authorization","delete","Map","prototype","del","key"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link, useLocation } from 'react-router-dom';\nimport Event from './animatedEvent';\nimport selectedEvent from './selectedEvent';\nimport {\n   AnimatePresence,\n   AnimateSharedLayout,\n   motion,\n   resolveMotionValue,\n} from 'framer-motion';\nimport Friendevent from './Friendevent';\nimport { userData } from '../App';\nimport { useCallback } from 'react';\nimport { createCalendar, months, highlightDate } from './functions/calendars';\nconst Home = () => {\n   const [user, setUser] = useContext(userData);\n   // console.log(user, 'context');\n   const [state, setState] = useState({\n      month: new Date().getMonth(),\n      year: new Date().getFullYear(),\n   });\n\n   const upMonth = () => {\n      const statee = { ...state };\n      if (state.month == 11) {\n         statee.year += 1;\n         statee.month = 0;\n      } else {\n         statee.month = (statee.month + 1) % 12;\n      }\n      console.log(state, 'state');\n      setState(statee);\n   };\n   const downMonth = () => {\n      const statee = { ...state };\n      if (statee.month == 0) {\n         statee.year -= 1;\n         statee.month = 11;\n      } else {\n         statee.month = (statee.month - 1) % 12;\n      }\n\n      setState(statee);\n   };\n\n   //const [events, setEvents] = useState(0);\n   const location = useLocation()\n   useEffect(() => {\n      setUser({\n         username: user.username,\n         uuid: user.uuid,\n         events: user.events,\n      });\n   }, [location]);\n   return (\n      <React.Fragment>\n         <div className=\"month\">\n            <ul>\n               <li>\n                  <b>{user.username}</b>\n               </li>\n               <br />\n               <li className=\"prev\">\n                  <motion.button\n                     onClick={() => downMonth()}\n                     className=\"btn btn-secondary month-nav \"\n                     whileHover={{ scale: 1.1 }}\n                     whileTap={{ scale: 0.9 }}\n                  >\n                     {/* &#10094; */}\n                     <svg\n                        width=\"1em\"\n                        height=\"1em\"\n                        viewBox=\"0 0 16 16\"\n                        class=\"bi bi-caret-left-fill\"\n                        fill=\"currentColor\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                     >\n                        <path d=\"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\" />\n                     </svg>\n                  </motion.button>\n               </li>\n               <li className=\"next\">\n                  <motion.button\n                     onClick={() => upMonth()}\n                     className=\"btn btn-secondary month-nav\"\n                     whileHover={{ scale: 1.1 }}\n                     transition={{}}\n                     whileTap={{ scale: 0.9 }}\n                  >\n                     {/* &#10095; */}\n                     <svg\n                        width=\"1em\"\n                        height=\"1em\"\n                        viewBox=\"0 0 16 16\"\n                        class=\"bi bi-caret-right-fill\"\n                        fill=\"currentColor\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                     >\n                        <path d=\"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\" />\n                     </svg>\n                  </motion.button>\n               </li>\n               <li style={{ textAlign: 'center' }}>\n                  <span id=\"monthName\">{months[state.month]}</span>\n                  <br />\n                  <span id=\"yearNum\">{state.year}</span>\n               </li>\n            </ul>\n         </div>\n         <div className=\"cal-flex\">\n            <ul className=\"weekdays\">\n               <li>Mo</li>\n               <li>Tu</li>\n               <li>We</li>\n               <li>Th</li>\n               <li>Fr</li>\n               <li>Sa</li>\n               <li>Su</li>\n            </ul>\n         </div>\n         <br />\n         <ul className=\"days\">\n            {createCalendar(state.month, state.year).map((item) => (\n               <li>\n                  {item == -1 ? (\n                     <span className=\"wrong\">\n                        {item == -1 ? '-' : item + 1}\n                     </span>\n                  ) : (\n                     <Link\n                        to={`/home/${1 + item}/${state.month}/${state.year}`}\n                     >\n                        <span className={highlightDate(item, state)}>\n                           {item + 1}\n                        </span>\n                     </Link>\n                  )}\n               </li>\n            ))}\n         </ul>\n\n         <br />\n         <br />\n         <AnimateSharedLayout>\n            <motion.div\n               className=\"float pt-4\"\n               initial={{ opacity: 0, y: -100 }}\n               animate={{\n                  opacity: 1,\n                  y: 0,\n                  transition: {\n                     when: 'afterChildren',\n                     staggerChildren: 0.4,\n                  },\n               }}\n            >\n               {user.events &&\n                  user.events.valify().filter(i=>i.date>new Date())\n                     .map(\n                     (item, i) =>\n                           item.creator == user.uuid ? (\n                           <Event\n                              index={i}\n                              uid={item.eventid}\n                              title={item.title}\n                              date={item.date}\n                              duration={item.duration}\n                              onDelete={() => leaveEvent(item.eventid)}\n                           />\n                        ) : null\n                     // <Friendevent\n                     //    uid={item.eventid}\n                     //    title={item.title}\n                     //    date={item.date}\n                     //    duration={item.duration}\n                     //    owner={item.username}\n                     //    onLeave={() => leaveEvent(item.eventid)}\n                     // />\n                  )}\n            </motion.div>\n         </AnimateSharedLayout>\n      </React.Fragment>\n   );\n\n   const variants = {\n      hidden: { opacity: 0 },\n      visible: { transition: { staggerChildren: 1, delayChildren: 1 } },\n   };\n   \n   async function leaveEvent(uid) {\n      const cookie = localStorage.getItem('token');\n      try {\n         await axios.post(\n            `http://localhost:8000/delete/${uid}`,\n            {},\n            { headers: { Authorization: 'Bearer ' + cookie } }\n         );\n         \n         \n         user.events.delete(uid)\n      } catch {\n         console.log('was not able to delete event!');\n      }\n   }\n};\nexport default Home;\nMap.prototype.del = function (key) {\n   this.delete(key)\n   return this\n}"]},"metadata":{},"sourceType":"module"}