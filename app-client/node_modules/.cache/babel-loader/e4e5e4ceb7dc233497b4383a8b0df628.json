{"ast":null,"code":"var _jsxFileName = \"/Users/jackbocresion/Desktop/YoCal current/client/app-client/src/components/Home.jsx\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link, useLocation } from 'react-router-dom';\nimport Event from './animatedEvent';\nimport selectedEvent from './selectedEvent';\nimport { AnimatePresence, AnimateSharedLayout, motion, resolveMotionValue } from 'framer-motion';\nimport Friendevent from './Friendevent';\nimport { userData } from '../App';\nimport { useCallback } from 'react';\nimport { createCalendar, months, highlightDate } from './functions/calendars';\nimport classNames from 'classnames';\n\nconst Home = () => {\n  const [user, setUser] = useContext(userData); // console.log(user, 'context');\n\n  const [state, setState] = useState({\n    month: new Date().getMonth(),\n    year: new Date().getFullYear()\n  });\n\n  const upMonth = () => {\n    const statee = { ...state\n    };\n\n    if (state.month == 11) {\n      statee.year += 1;\n      statee.month = 0;\n    } else {\n      statee.month = (statee.month + 1) % 12;\n    }\n\n    console.log(state, 'state');\n    setState(statee);\n  };\n\n  const downMonth = () => {\n    const statee = { ...state\n    };\n\n    if (statee.month == 0) {\n      statee.year -= 1;\n      statee.month = 11;\n    } else {\n      statee.month = (statee.month - 1) % 12;\n    }\n\n    setState(statee);\n  };\n\n  const location = useLocation();\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"month\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 19\n    }\n  }, user.username)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"prev\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    onClick: () => downMonth(),\n    className: \"btn btn-secondary month-nav \",\n    whileHover: {\n      scale: 1.1\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    class: \"bi bi-caret-left-fill\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"next\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    onClick: () => upMonth(),\n    className: \"btn btn-secondary month-nav\",\n    whileHover: {\n      scale: 1.1\n    },\n    transition: {},\n    whileTap: {\n      scale: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    class: \"bi bi-caret-right-fill\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"monthName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, months[state.month]), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"yearNum\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, state.year), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(motion.button, {\n    className: `btn btn-sm ${state.year != new Date().getFullYear() || state.month != new Date().getMonth() ? \"btn-primary\" : \"btn-secondary\"}`,\n    onClick: () => {\n      setState({\n        year: new Date().getFullYear(),\n        month: new Date().getMonth()\n      });\n    },\n    disabled: state.year == new Date().getFullYear() && state.month == new Date().getMonth(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, \"Today\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cal-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"weekdays\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 16\n    }\n  }, \"Mo\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 16\n    }\n  }, \"Tu\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 16\n    }\n  }, \"We\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 16\n    }\n  }, \"Th\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 16\n    }\n  }, \"Fr\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 16\n    }\n  }, \"Sa\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 16\n    }\n  }, \"Su\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"days\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 10\n    }\n  }, createCalendar(state.month, state.year).map(item => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 16\n    }\n  }, item == -1 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"wrong\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 22\n    }\n  }, item == -1 ? '-' : item + 1) : /*#__PURE__*/React.createElement(Link, {\n    to: `/home/${1 + item}/${state.month}/${state.year}`,\n    state: {\n      day: 1 + item,\n      month: state.month,\n      year: state.year\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: highlightDate(item, state),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 28\n    }\n  }, item + 1))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setUser({ ...user,\n        events: user.events.set(Math.random(), {\n          creator: user.uuid,\n          date: new Date().toISOString,\n          duration: 10,\n          eventid: '1213123',\n          title: 'fsdfasdf'\n        })\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, \"add\"), /*#__PURE__*/React.createElement(AnimateSharedLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    className: \"float pt-4\",\n    initial: {\n      opacity: 0,\n      y: -100\n    },\n    animate: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        when: 'afterChildren',\n        staggerChildren: 0.4\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, user && user.events && user.events.valify() //.filter((i) => new Date(i.date) >= new Date())\n  .map((item, i) => item.creator == user.uuid ? /*#__PURE__*/React.createElement(Event, {\n    index: i,\n    uid: item.eventid,\n    title: item.title,\n    date: item.date,\n    duration: item.duration,\n    onDelete: () => leaveEvent(item.eventid),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 31\n    }\n  }) : null // <Friendevent\n  //    uid={item.eventid}\n  //    title={item.title}\n  //    date={item.date}\n  //    duration={item.duration}\n  //    owner={item.username}\n  //    onLeave={() => leaveEvent(item.eventid)}\n  // />\n  ))));\n  const variants = {\n    hidden: {\n      opacity: 0\n    },\n    visible: {\n      transition: {\n        staggerChildren: 1,\n        delayChildren: 1\n      }\n    }\n  };\n\n  async function leaveEvent(uid) {\n    const cookie = localStorage.getItem('token');\n\n    try {\n      await axios.post(`http://localhost:8000/delete/${uid}`, {}, {\n        headers: {\n          Authorization: 'Bearer ' + cookie\n        }\n      });\n      user.events.del(uid);\n    } catch {\n      console.log('was not able to delete event!');\n    }\n  }\n};\n\nexport default Home;\n\nMap.prototype.del = function (key) {\n  this.delete(key);\n  return this;\n}; // export async function leaveEvent(context, uid) {\n//    const cookie = localStorage.getItem('token');\n//    try {\n//       await axios.post(\n//          `http://localhost:8000/delete/${uid}`,\n//          {},\n//          { headers: { Authorization: 'Bearer ' + cookie } }\n//       );\n//       context.events.del(uid);\n//    } catch {\n//       console.log('was not able to delete event!');\n//    }\n// }","map":{"version":3,"sources":["/Users/jackbocresion/Desktop/YoCal current/client/app-client/src/components/Home.jsx"],"names":["React","useState","useEffect","useContext","axios","Link","useLocation","Event","selectedEvent","AnimatePresence","AnimateSharedLayout","motion","resolveMotionValue","Friendevent","userData","useCallback","createCalendar","months","highlightDate","classNames","Home","user","setUser","state","setState","month","Date","getMonth","year","getFullYear","upMonth","statee","console","log","downMonth","location","username","scale","textAlign","map","item","day","events","set","Math","random","creator","uuid","date","toISOString","duration","eventid","title","opacity","y","transition","when","staggerChildren","valify","i","leaveEvent","variants","hidden","visible","delayChildren","uid","cookie","localStorage","getItem","post","headers","Authorization","del","Map","prototype","key","delete"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link, useLocation } from 'react-router-dom';\nimport Event from './animatedEvent';\nimport selectedEvent from './selectedEvent';\nimport {\n   AnimatePresence,\n   AnimateSharedLayout,\n   motion,\n   resolveMotionValue,\n} from 'framer-motion';\nimport Friendevent from './Friendevent';\nimport { userData } from '../App';\nimport { useCallback } from 'react';\nimport { createCalendar, months, highlightDate } from './functions/calendars';\nimport classNames from 'classnames';\nconst Home = () => {\n   const [user, setUser] = useContext(userData);\n   // console.log(user, 'context');\n   const [state, setState] = useState({\n      month: new Date().getMonth(),\n      year: new Date().getFullYear(),\n   });\n\n   const upMonth = () => {\n      const statee = { ...state };\n      if (state.month == 11) {\n         statee.year += 1;\n         statee.month = 0;\n      } else {\n         statee.month = (statee.month + 1) % 12;\n      }\n      console.log(state, 'state');\n      setState(statee);\n   };\n   const downMonth = () => {\n      const statee = { ...state };\n      if (statee.month == 0) {\n         statee.year -= 1;\n         statee.month = 11;\n      } else {\n         statee.month = (statee.month - 1) % 12;\n      }\n\n      setState(statee);\n   };\n   const location = useLocation();\n\n   return (\n      <React.Fragment>\n         <div className=\"month\">\n            <ul>\n               <li>\n                  <b>{user.username}</b>\n               </li>\n               <br />\n               <li className=\"prev\">\n                  <motion.button\n                     onClick={() => downMonth()}\n                     className=\"btn btn-secondary month-nav \"\n                     whileHover={{ scale: 1.1 }}\n                     whileTap={{ scale: 0.9 }}\n                  >\n                     {/* &#10094; */}\n                     <svg\n                        width=\"1em\"\n                        height=\"1em\"\n                        viewBox=\"0 0 16 16\"\n                        class=\"bi bi-caret-left-fill\"\n                        fill=\"currentColor\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                     >\n                        <path d=\"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\" />\n                     </svg>\n                  </motion.button>\n               </li>\n               <li className=\"next\">\n                  <motion.button\n                     onClick={() => upMonth()}\n                     className=\"btn btn-secondary month-nav\"\n                     whileHover={{ scale: 1.1 }}\n                     transition={{}}\n                     whileTap={{ scale: 0.9 }}\n                  >\n                     {/* &#10095; */}\n                     <svg\n                        width=\"1em\"\n                        height=\"1em\"\n                        viewBox=\"0 0 16 16\"\n                        class=\"bi bi-caret-right-fill\"\n                        fill=\"currentColor\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                     >\n                        <path d=\"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\" />\n                     </svg>\n                  </motion.button>\n               </li>\n               <li style={{ textAlign: 'center' }}>\n                  <span id=\"monthName\">{months[state.month]}</span>\n                  <br />\n                  <span id=\"yearNum\">{state.year}</span>\n                  <br />\n                  <br />\n                  <motion.button\n                     className={`btn btn-sm ${state.year != new Date().getFullYear()||state.month != new Date().getMonth()?\"btn-primary\":\"btn-secondary\"}`}\n                     onClick={() => {\n                        setState({\n                        year: new Date().getFullYear(),\n                        month: new Date().getMonth()\n                        })\n                        \n                     }}\n                     disabled={state.year == new Date().getFullYear()&&state.month == new Date().getMonth()}>Today</motion.button>\n               </li>\n            </ul>\n         </div>\n         <div className=\"cal-flex\">\n            <ul className=\"weekdays\">\n               <li>Mo</li>\n               <li>Tu</li>\n               <li>We</li>\n               <li>Th</li>\n               <li>Fr</li>\n               <li>Sa</li>\n               <li>Su</li>\n            </ul>\n         </div>\n         <br />\n         <ul className=\"days\">\n            {createCalendar(state.month, state.year).map((item) => (\n               <li>\n                  {item == -1 ? (\n                     <span className=\"wrong\">\n                        {item == -1 ? '-' : item + 1}\n                     </span>\n                  ) : (\n                     <Link\n                           to={`/home/${1 + item}/${state.month}/${state.year}`}\n                           state={{day:1+item, month:state.month, year:state.year, }}\n                     >\n                           <span className={highlightDate(item, state)}>\n                           {item + 1}\n                        </span>\n                     </Link>\n                  )}\n               </li>\n            ))}\n         </ul>\n\n         <br />\n         <br />\n          <button\n            onClick={() =>{\n               \n            setUser({...user, events:user.events.set(Math.random(), {\n                  creator: user.uuid,\n                  date: new Date().toISOString,\n                  duration: 10,\n                  eventid: '1213123',\n                  title: 'fsdfasdf',\n               })})}\n            }\n         >\n            add\n         </button>\n         <AnimateSharedLayout>\n            <motion.div\n               className=\"float pt-4\"\n               initial={{ opacity: 0, y: -100 }}\n               animate={{\n                  opacity: 1,\n                  y: 0,\n                  transition: {\n                     when: 'afterChildren',\n                     staggerChildren: 0.4,\n                  },\n               }}\n            >\n               {user &&\n                  user.events &&\n                  user.events\n                     .valify()\n                     //.filter((i) => new Date(i.date) >= new Date())\n                     .map(\n                        (item, i) =>\n                           item.creator == user.uuid ? (\n                              <Event\n                                 index={i}\n                                 uid={item.eventid}\n                                 title={item.title}\n                                 date={item.date}\n                                 duration={item.duration}\n                                 onDelete={() => leaveEvent(item.eventid)}\n                              />\n                           ) : null\n                        // <Friendevent\n                        //    uid={item.eventid}\n                        //    title={item.title}\n                        //    date={item.date}\n                        //    duration={item.duration}\n                        //    owner={item.username}\n                        //    onLeave={() => leaveEvent(item.eventid)}\n                        // />\n                     )}\n            </motion.div>\n         </AnimateSharedLayout>\n      </React.Fragment>\n   );\n\n   const variants = {\n      hidden: { opacity: 0 },\n      visible: { transition: { staggerChildren: 1, delayChildren: 1 } },\n   };\n\n   async function leaveEvent(uid) {\n      const cookie = localStorage.getItem('token');\n      try {\n         await axios.post(\n            `http://localhost:8000/delete/${uid}`,\n            {},\n            { headers: { Authorization: 'Bearer ' + cookie } }\n         );\n\n         user.events.del(uid);\n      } catch {\n         console.log('was not able to delete event!');\n      }\n   }\n};\nexport default Home;\nMap.prototype.del = function (key) {\n   this.delete(key);\n   return this;\n};\n\n// export async function leaveEvent(context, uid) {\n//    const cookie = localStorage.getItem('token');\n//    try {\n//       await axios.post(\n//          `http://localhost:8000/delete/${uid}`,\n//          {},\n//          { headers: { Authorization: 'Bearer ' + cookie } }\n//       );\n\n//       context.events.del(uid);\n\n//    } catch {\n//       console.log('was not able to delete event!');\n//    }\n// }\n"]},"metadata":{},"sourceType":"module"}