(this["webpackJsonpapp-client"]=this["webpackJsonpapp-client"]||[]).push([[0],{32:function(e,t,a){e.exports=a(64)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a.n(l),o=(a(37),a(12)),s=(a(38),a(39),a(4)),m=a.n(s),i=a(1),u=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"align-middle"},r.a.createElement("div",{className:"m-5 "},r.a.createElement("h1",{className:"float-left"},"Login:"),r.a.createElement("br",null),r.a.createElement("form",{className:"pl-4 pt-5 px-11 py-3"},r.a.createElement("label",{for:"username",className:"form-label float-left"},"Username"),r.a.createElement("input",{type:"username",className:"form-control",id:"lusername",placeholder:"username"}),r.a.createElement("br",null),r.a.createElement("label",{for:"password",className:"form-label float-left"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"lpassword",placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("h4",{id:"noo"})),r.a.createElement(i.a.button,{className:"btn btn-primary btn-sm float-left",onClick:function(){return function(){var e=document.getElementById("lusername").value,t=document.getElementById("lpassword").value;m.a.post("https://calendar-app.systems/login",{username:e,password:t}).then((function(e){try{localStorage.setItem("token",e.data.acessToken),window.location.pathname="/home"}catch(t){return}})).catch((function(e){switch(e.response.status){case 401:return document.getElementById("noo").innerHTML="incorrect password";case 404:return document.getElementById("noo").innerHTML="account does not exist, please create one below.";default:return}}))}()},whileHover:{scale:1.2},whileTap:{scale:.9}},"Log in")),r.a.createElement("br",null),r.a.createElement("div",{className:"m-5"},r.a.createElement("h1",{className:""},"Alternatively:"),r.a.createElement("br",null),r.a.createElement("h2",{className:"float-left"},"Register Here:"),r.a.createElement("form",{className:"pl-4 pt-5 px-11 py-3",method:"POST",action:"/register"},r.a.createElement("label",{for:"username",className:"form-label float-left"},"Username"),r.a.createElement("input",{type:"username",className:"form-control",id:"rusername",placeholder:"username"}),r.a.createElement("br",null),r.a.createElement("label",{for:"password",className:"form-label float-left"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"rpassword",placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"form-control",id:"Cpassword",placeholder:"Confirm Password"}),r.a.createElement("br",null),r.a.createElement("h4",{id:"noo1"})),r.a.createElement(i.a.button,{whileHover:{scale:1.2},whileTap:{scale:.9},className:"btn btn-primary btn-sm float-left",onClick:function(){return function(){var e=document.getElementById("rusername").value,t=document.getElementById("rpassword").value,a=document.getElementById("Cpassword").value;if(!e||!t)return document.getElementById("noo1").innerHTML="Please enter a username and password";t===a?m.a.post("https://calendar-app.systems/register",{username:e,password:t}).then((function(e){200==e.status&&(document.getElementById("noo1").innerHTML="Account created! You can now login")})).catch((function(e){switch(e.response.status){case 400:return document.getElementById("noo1").innerHTML="Username in use";case 500:return document.getElementById("noo1").innerHTML="Internal server error";default:return document.getElementById("noo1").innerHTML="Unknown error"}})):document.getElementById("noo1").innerHTML="passwords do not match"}()}},"Register"))))},d=a(13),h=a(10),E=a(9);var p=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return r.a.createElement("div",{className:function(){var a="card mb-3 text-white ",n=new Date,r=new Date("".concat(t[e.month]," ").concat(e.day," ").concat(e.year));return parseInt(e.day)==n.toString().split(" ")[2]&&e.month==n.getMonth()&&e.year==n.getFullYear()?a+"bg-success":n<r?a+"bg-info":a+"bg-danger"}()},r.a.createElement("div",null,r.a.createElement("a",{className:"float-right"},e.hour,":",function(){var t=e.minute;return t.toString().length<2?"0"+t:t}()," ",1==e.tod?"AM":2==e.tod?"PM":e.tod,"\xa0"),r.a.createElement("br",null),r.a.createElement("a",{className:"title"},"\xa0 You have ",e.title),r.a.createElement("a",{className:"float-right"}," ",1==e.publicity?"Public":"Private"," \xa0"),r.a.createElement("br",null),r.a.createElement("a",{className:"float-right"},e.day.toString()==(new Date).toString().split(" ")[2]?"Today!":"On ".concat(t[e.month]," ").concat(e.day," ")," ",(new Date).getFullYear()==e.year?" ":e.year+" ","\xa0"),r.a.createElement(i.a.button,{whileHover:{scale:1.2},className:"btn xxs btn-secondary py-0 px-1",onClick:e.onDelete}," ",r.a.createElement("a",null,"x")," ")))};var f=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return r.a.createElement("div",{className:function(){var a="card mb-3 text-white ",n=new Date,r=new Date("".concat(t[e.month]," ").concat(e.day," ").concat(e.year));return parseInt(e.day)==n.toString().split(" ")[2]&&e.month==n.getMonth()&&e.year==n.getFullYear()?a+"bg-success":n<r?a+"bg-info":a+"bg-danger"}()},r.a.createElement("div",null,r.a.createElement("a",{className:"float-right"},e.hour,":",function(){var t=e.minute;return t.toString().length<2?"0"+t:t}()," ",1==e.tod?"AM":2==e.tod?"PM":e.tod," \xa0"),r.a.createElement("br",null),r.a.createElement("a",{className:"title"},"\xa0 ",e.name," has ",e.title),r.a.createElement("a",{className:"float-right"},"[coming soon] \xa0"),r.a.createElement("br",null),r.a.createElement("a",{className:"float-right"},e.day.toString()==(new Date).toString().split(" ")[2]?"Today!":"On ".concat(t[e.month]," ").concat(e.day," ")," ",(new Date).getFullYear()==e.year?" ":e.year+" ","\xa0")))},y=function(e){var t=Object(n.useState)({username:e.username,events:e.events,month:e.month,friendEvents:e.friendEvents,months:["January","February","March","April","May","June","July","August","September","October","November","December"],year:e.year}),a=Object(o.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){c({username:e.username,events:e.events,month:e.month,friendEvents:e.friendEvents,months:["January","February","March","April","May","June","July","August","September","October","November","December"],year:e.year})}),[e]);var s=function(e){return e+1==(new Date).toString().split(" ")[2]&&l.month==(new Date).getMonth()&&l.year==(new Date).getFullYear()?"days date highlight":"days date"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"month"},r.a.createElement("ul",null,r.a.createElement("li",null,l.username),r.a.createElement("br",null),r.a.createElement("li",{className:"prev"},r.a.createElement(i.a.button,{onClick:function(){return function(){var e=Object(h.a)({},l);0==e.month?(e.year-=1,e.month=11):e.month=(e.month-1)%12,c(e),document.getElementById("monthName").innerHTML=l.months[l.month],document.getElementById("yearNum").innerHTML=l.year}()},className:"btn btn-secondary",whileHover:{scale:1.1},whileTap:{scale:.9}},"\u276e")),r.a.createElement("li",{className:"next"},r.a.createElement(i.a.button,{onClick:function(){return function(){var e=Object(h.a)({},l);11==l.month?(e.year+=1,e.month=0):e.month=(e.month+1)%12,c(e),document.getElementById("monthName").innerHTML=l.months[e.month],document.getElementById("yearNum").innerHTML=l.year}()},className:"btn btn-secondary",whileHover:{scale:1.1},whileTap:{scale:.9}},"\u276f")),r.a.createElement("li",null,r.a.createElement("span",{id:"monthName"},l.months[l.month]),r.a.createElement("br",null),r.a.createElement("span",{id:"yearNum"},l.year)))),r.a.createElement("ul",{className:"weekdays"},r.a.createElement("li",null,"Mo"),r.a.createElement("li",null,"Tu"),r.a.createElement("li",null,"We"),r.a.createElement("li",null,"Th"),r.a.createElement("li",null,"Fr"),r.a.createElement("li",null,"Sa"),r.a.createElement("li",null,"Su")),r.a.createElement("ul",{className:"days"},function(e,t){var a=new Date(l.months[e]+" "+t).toString().split(" "),n=Object(d.a)(Array(function(e,t){switch(e){case 0:return 31;case 1:return t%4==0?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;case 11:return 31}}(e,t)).keys());switch(a[0].toLowerCase()){case"mon":break;case"tue":n.unshift(-1);break;case"wed":n.unshift(-1,-1);break;case"thu":n.unshift(-1,-1,-1);break;case"fri":n.unshift(-1,-1,-1,-1);break;case"sat":n.unshift(-1,-1,-1,-1,-1);break;case"sun":n.unshift(-1,-1,-1,-1,-1,-1)}return n}(l.month,l.year).map((function(e){return r.a.createElement("li",null,-1==e?r.a.createElement("span",{className:"wrong"},-1==e?"-":e+1):r.a.createElement(E.b,{to:"/home/".concat(1+e,"/").concat(l.month,"/").concat(l.year)},r.a.createElement("span",{className:s(e)},e+1)))}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(i.a.div,{transition:{duration:2},initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1}}},r.a.createElement("div",{className:"float "},l.friendEvents&&l.friendEvents.map((function(e){return r.a.createElement(f,{title:e.data.title,day:e.data.day,hour:e.data.hour,minute:e.data.minute,tod:e.data.tod,month:e.data.month,year:e.data.year,name:e.name})})),l.events&&l.events.map((function(e,t){return r.a.createElement(p,{title:e.title,day:e.day,hour:e.hour,minute:e.minute,tod:e.tod,month:e.month,year:e.year,index:t,publicity:e.public,onDelete:function(){!function(e){var t=localStorage.getItem("token");m.a.delete("https://calendar-app.systems/deleteevent/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(){var t=Object(h.a)({},l);t.events.splice(e,1),c(t)})).catch((function(){}))}(t)}})})))))},b=a(2),v=["January","February","March","April","May","June","July","August","September","October","November","December"],g=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"px-5 pt-5"},r.a.createElement("div",{className:"px-4"},r.a.createElement("h1",{id:"curdate"},"Scheduling event for ",v[e.match.params.month]," ",e.match.params.day," ",(new Date).getFullYear()==e.match.params.year?"":e.match.params.year),r.a.createElement("div",{id:"selectors"},r.a.createElement("select",{id:"hour",name:"hour"},r.a.createElement("option",null,"hour"),Object(d.a)(Array(12).keys()).map((function(e){return r.a.createElement("option",{value:e,key:e++},e)}))),":",r.a.createElement("select",{id:"mins",name:"mins"},r.a.createElement("option",null,"minute"),Object(d.a)(Array(10).keys()).map((function(e){return r.a.createElement("option",{key:e},"0"+e)})),Object(d.a)(Array(50).keys()).map((function(e){return r.a.createElement("option",{key:e++},9+e++)}))),":",r.a.createElement("select",{id:"tod",name:"tod"},r.a.createElement("option",{selected:!0},"AM/PM"),r.a.createElement("option",null,"AM"),r.a.createElement("option",null,"PM")),"\xa0\xa0",r.a.createElement("span",{className:" bg-secondary px-2 py-1 rounded radius-5"},r.a.createElement("label",{for:"privacy"},"public?"),"\xa0",r.a.createElement(i.a.input,{whileHover:{scale:1.2},whileTap:{scale:.9},type:"checkbox",name:"privacy",id:"privacy",value:"public"})),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("input",{id:"idk",className:"form-control"}),r.a.createElement("a",{id:"error"}),r.a.createElement("br",null),r.a.createElement(i.a.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:function(){var t=document.getElementById("idk").value,a=document.getElementById("hour").selectedIndex,n=document.getElementById("mins").selectedIndex,r=document.getElementById("tod").selectedIndex,l=document.getElementById("privacy").checked;0==a||0==n||0==r?(document.getElementById("error").style.color="red",document.getElementById("error").innerHTML="please enter a valid time"):t.length<5?(document.getElementById("error").style.color="red",document.getElementById("error").innerHTML="your event name must be greater than 4 characters"):t.length>=60?(document.getElementById("error").style.color="red",document.getElementById("error").innerHTML="your event name must be less than 60 characters"):(!function(e,t,a,n,r,l,c,o){m.a.post("https://calendar-app.systems/createevent",{hour:e,minute:t,tod:a,title:c,day:n,month:r,year:l,public:o},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){window.location.href="/home"}))}(a,n-1,r,e.match.params.day,e.match.params.month,e.match.params.year,t,l),window.location.href="/home")},className:"btn btn-primary btn-small"},"Create event"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.b,{to:"/home"},r.a.createElement(i.a.button,{whileHover:{scale:1.2},whileTap:{scale:.9},className:"btn btn-sm btn-secondary"},"\u276e home")))))},w=(a(62),function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"px-5 pt-5"},r.a.createElement("div",{className:"px-4"},r.a.createElement("h1",{id:"curdate"},"Add a friend"),r.a.createElement("br",null),r.a.createElement("input",{id:"idk",className:"form-control"}),r.a.createElement("a",{id:"error"}),r.a.createElement("br",null),r.a.createElement(i.a.button,{whileHover:{scale:1.2},whileTap:{scale:.9},className:"btn btn-primary btn-small",onClick:function(){return function(e){var t=localStorage.getItem("token");m.a.post("https://calendar-app.systems/reqfriend",{user:e},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){document.getElementById("error").style.color="green",document.getElementById("error").innerText=function(){switch(t.status){case 202:return e+" has been added to your friends list!";default:return"Friend request sent!"}}()})).catch((function(t){document.getElementById("error").style.color="red",document.getElementById("error").innerText=function(){switch(t.response.status){case 500:return"Internal server error, please try again later!";case 400:return"User "+e+" does not exsist!";case 403:return"You have already requested this user!";case 409:return"You are already friends with this user!";case 423:return"You cannot request yourself!";default:return"Unknown error!"}}()}))}(document.getElementById("idk").value.toLowerCase())}},"Send Request"),r.a.createElement("br",null),r.a.createElement("p",{id:"error"}),r.a.createElement("br",null),r.a.createElement(E.b,{to:"/home"},r.a.createElement(i.a.button,{whileHover:{scale:1.2},whileTap:{scale:.9},className:"btn btn-sm btn-secondary"},"\u276e home")))))}),N=function(e){return r.a.createElement("div",{className:"card mb-3 text-white bg-warning",style:{width:"600px"}},r.a.createElement("div",null,r.a.createElement(i.a.button,{onClick:e.accept,className:"btn btn-secondary btn-sm float-right px-1 py-0 mt-2 mx-2",whileHover:{scale:1.2}},"Accept"),r.a.createElement("br",null),r.a.createElement("a",{className:"title mt-1"},"\xa0 ",e.person," wants to be friends!"," "),r.a.createElement("br",null),r.a.createElement(i.a.button,{whileHover:{scale:1.2},onClick:e.delete,className:"btn btn-secondary btn-sm float-right px-1 py-0 mb-2 mx-2"},"Decline"),r.a.createElement("br",null)))},I=function(e){return r.a.createElement("div",{className:"card mb-3 text-white bg-success",style:{width:"600px"}},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("a",{className:"title"},"\xa0 ",e.person," "),r.a.createElement(i.a.button,{whileHover:{scale:1.2},onClick:e.delete,className:"btn btn-secondary btn-sm float-right px-1 py-0  mx-2"},"Remove"),r.a.createElement("br",null),r.a.createElement("br",null)))},k=function(e){var t=Object(n.useState)({reqs:e.friendReqs,friends:e.friends}),a=Object(o.a)(t,2),l=a[0],c=a[1],s={hidden:{opacity:0},visible:{opacity:1}};Object(n.useEffect)((function(){c({reqs:e.friendReqs,friends:e.friends})}),[e]);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"float"},r.a.createElement("div",{className:"event"},r.a.createElement(w,null)),r.a.createElement("div",{className:"event"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h1",{className:"pl-4"},"Incoming friend requests"),r.a.createElement("br",null),l.reqs&&l.reqs.map((function(e,t){return r.a.createElement(i.a.div,{transition:{duration:2},initial:"hidden",animate:"visible",variants:s},r.a.createElement(N,{delete:function(){return function(e){var t=localStorage.getItem("token");t&&m.a.delete("https://calendar-app.systems/deletereq/"+e,{headers:{Authorization:"Bearer "+t}}).then((function(){var t=Object(h.a)({},l);t.reqs.splice(e,1),c(t)})).catch((function(){return 0}))}(t)},accept:function(){return function(e){var t=localStorage.getItem("token");m.a.post("https://calendar-app.systems/reqfriend",{user:e},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(){var t=Object(h.a)({},l),a=t.reqs.indexOf(e);t.reqs.splice(a,1),t.friends.push(e),c(t)})).catch((function(e){return null}))}(e)},person:e,index:t}))}))),r.a.createElement("div",null,r.a.createElement("h1",{className:"pl-4"},"Friends"),l.friends&&l.friends.map((function(e,t){return r.a.createElement(i.a.div,{transition:{duration:2},initial:"hidden",animate:"visible",variants:s},r.a.createElement(I,{delete:function(){return function(e){var t=localStorage.getItem("token");t&&m.a.delete("https://calendar-app.systems/deletefriend/"+e,{headers:{Authorization:"Bearer "+t}}).then((function(){var t=Object(h.a)({},l);t.friends.splice(e,1),c(t)})).catch((function(){return 0}))}(t)},person:e,index:t}))})),r.a.createElement(i.a.div,null)))))},B=(a(63),function(){return r.a.createElement("div",{style:{"padding-top":"10%"}},r.a.createElement("span",null,"\xa0\xa0\xa0\xa0\xa0 please email thunderlord520@gmail.com for any questions, concerns or suggestions regarding the beta."))}),x=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("token");e?("/"===window.location.pathname&&(window.location.pathname="/home"),m.a.get("https://calendar-app.systems/getuser",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=e.data.user.events,a=[];t.forEach((function(e){a.push(JSON.parse(e))})),e.data.user.events=a;var n=new Date;l({data:e.data.user.username,events:e.data.user.events,friendEvents:e.data.friendEvents,friendReqs:e.data.user.friendReqs,friends:e.data.user.friends,month:n.getMonth(),year:n.getFullYear()})})).catch((function(){localStorage.removeItem("token"),window.location.pathname="/"}))):"/"!=window.location.pathname&&(window.location.pathname="/")}),[]),r.a.createElement(E.a,null,r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/",exact:!0,component:u}),r.a.createElement(b.a,{path:"/home",exact:!0,render:function(){return r.a.createElement(y,{year:a.year,username:a.data,friendEvents:a.friendEvents,month:a.month,events:a.events})}}),r.a.createElement(b.a,{exact:!0,path:"/home/:day/:month/:year",component:g}),r.a.createElement(b.a,{exact:!0,path:"/friends",render:function(){return r.a.createElement(k,{friendReqs:a.friendReqs,friends:a.friends})}}),r.a.createElement(b.a,{render:function(){return r.a.createElement("h1",null,"404 error")}})),r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.86ecfb68.chunk.js.map