{"ast":null,"code":"var _jsxFileName = \"/Users/jackbocresion/Desktop/Final App sql/client/app-client/src/components/Home.jsx\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Event from './animatedEvent';\nimport selectedEvent from './selectedEvent';\nimport { AnimatePresence, AnimateSharedLayout, motion, resolveMotionValue } from 'framer-motion';\nimport Friendevent from './Friendevent';\nimport { userData } from '../App';\nimport { useCallback } from 'react';\nimport Spinner from '../microComponents/spinner';\n\nconst Home = () => {\n  const user = useContext(userData); // console.log(user, 'context');\n\n  const [state, setState] = useState({\n    month: new Date().getMonth(),\n    year: new Date().getFullYear()\n  });\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n  const highlightDate = item => {\n    if (item + 1 == new Date().toString().split(' ')[2] && state.month == new Date().getMonth() && state.year == new Date().getFullYear()) {\n      return 'date highlight';\n    } else {\n      return 'date';\n    }\n  };\n\n  const upMonth = () => {\n    const statee = { ...state\n    };\n\n    if (state.month == 11) {\n      statee.year += 1;\n      statee.month = 0;\n    } else {\n      statee.month = (statee.month + 1) % 12;\n    }\n\n    console.log(state, 'state');\n    setState(statee);\n  };\n\n  const downMonth = () => {\n    const statee = { ...state\n    };\n\n    if (statee.month == 0) {\n      statee.year -= 1;\n      statee.month = 11;\n    } else {\n      statee.month = (statee.month - 1) % 12;\n    }\n\n    setState(statee);\n  };\n\n  const daysInMonth = (month, year) => {\n    switch (month) {\n      case 0:\n        return 31;\n\n      case 1:\n        if (year % 4 == 0) {\n          return 29;\n        } else {\n          return 28;\n        }\n\n      case 2:\n        return 31;\n\n      case 3:\n        return 30;\n\n      case 4:\n        return 31;\n\n      case 5:\n        return 30;\n\n      case 6:\n        return 31;\n\n      case 7:\n        return 31;\n\n      case 8:\n        return 30;\n\n      case 9:\n        return 31;\n\n      case 10:\n        return 30;\n\n      case 11:\n        return 31;\n    }\n  };\n\n  const createCalendar = (month, year) => {\n    const Start = new Date(months[month] + ' ' + year);\n    const StartParts = Start.toString().split(' ');\n    var date = [...Array(daysInMonth(month, year)).keys()];\n\n    switch (StartParts[0].toLowerCase()) {\n      case 'mon':\n        break;\n\n      case 'tue':\n        date.unshift(-1);\n        break;\n\n      case 'wed':\n        date.unshift(-1, -1);\n        break;\n\n      case 'thu':\n        date.unshift(-1, -1, -1);\n        break;\n\n      case 'fri':\n        date.unshift(-1, -1, -1, -1);\n        break;\n\n      case 'sat':\n        date.unshift(-1, -1, -1, -1, -1);\n        break;\n\n      case 'sun':\n        date.unshift(-1, -1, -1, -1, -1, -1);\n        break;\n    }\n\n    const dateLen = date.length % 7;\n\n    if (dateLen == 0) {\n      [...Array(7).keys()].map(i => {\n        console.log(i);\n        date.push(-1);\n      });\n    }\n\n    return date;\n  };\n\n  const [focused, Focus] = useState(0);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"month\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, user.username)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"prev\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    onClick: () => downMonth(),\n    className: \"btn btn-secondary\",\n    whileHover: {\n      scale: 1.1\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    class: \"bi bi-caret-left-fill\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"next\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    onClick: () => upMonth(),\n    className: \"btn btn-secondary\",\n    whileHover: {\n      scale: 1.1\n    },\n    transition: {},\n    whileTap: {\n      scale: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    class: \"bi bi-caret-right-fill\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"monthName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, months[state.month]), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"yearNum\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  }, state.year)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cal-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"weekdays\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 16\n    }\n  }, \"Mo\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 16\n    }\n  }, \"Tu\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 16\n    }\n  }, \"We\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 16\n    }\n  }, \"Th\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 16\n    }\n  }, \"Fr\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 16\n    }\n  }, \"Sa\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 16\n    }\n  }, \"Su\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"days\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 10\n    }\n  }, createCalendar(state.month, state.year).map(item => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 16\n    }\n  }, item == -1 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"wrong\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 22\n    }\n  }, item == -1 ? '-' : item + 1) : /*#__PURE__*/React.createElement(Link, {\n    to: `/home/${1 + item}/${state.month}/${state.year}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: highlightDate(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 25\n    }\n  }, item + 1))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(AnimateSharedLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    className: \"float pt-4\",\n    initial: {\n      opacity: 0,\n      y: -100\n    },\n    animate: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        when: 'afterChildren',\n        staggerChildren: 0.4\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }\n  }, user.events && user.events.map((item, index) => item.id == user.data.id ? /*#__PURE__*/React.createElement(Event, {\n    index: index,\n    title: item.title,\n    date: item.date,\n    duration: item.duration,\n    onDelete: () => leaveEvent(item.relation) //onFocus={() => Focus(!focused && index + 1)}\n    //use index+1 becasue false&&0 returns 0, they are both falsey\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(Friendevent, {\n    index: index,\n    title: item.title,\n    date: item.date,\n    duration: item.duration,\n    owner: item.username,\n    onLeave: () => leaveEvent(item.relation) //onFocus={() => Focus(index)}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 25\n    }\n  })))));\n  const variants = {\n    hidden: {\n      opacity: 0\n    },\n    visible: {\n      transition: {\n        staggerChildren: 1,\n        delayChildren: 1\n      }\n    }\n  };\n\n  async function leaveEvent(realtionship) {\n    // console.log(realtionship, 'relationshp');\n    const cookie = localStorage.getItem('token');\n    return await axios.post(`http://localhost:8000/leaveevent/${realtionship}`, {}, {\n      headers: {\n        Authorization: 'Bearer ' + cookie\n      }\n    });\n  }\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/jackbocresion/Desktop/Final App sql/client/app-client/src/components/Home.jsx"],"names":["React","useState","useEffect","useContext","axios","Link","Event","selectedEvent","AnimatePresence","AnimateSharedLayout","motion","resolveMotionValue","Friendevent","userData","useCallback","Spinner","Home","user","state","setState","month","Date","getMonth","year","getFullYear","months","highlightDate","item","toString","split","upMonth","statee","console","log","downMonth","daysInMonth","createCalendar","Start","StartParts","date","Array","keys","toLowerCase","unshift","dateLen","length","map","i","push","focused","Focus","username","scale","opacity","y","transition","when","staggerChildren","events","index","id","data","title","duration","leaveEvent","relation","variants","hidden","visible","delayChildren","realtionship","cookie","localStorage","getItem","post","headers","Authorization"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Event from './animatedEvent';\nimport selectedEvent from './selectedEvent'\nimport {\n   AnimatePresence,\n   AnimateSharedLayout,\n   motion,\n   resolveMotionValue,\n} from 'framer-motion';\nimport Friendevent from './Friendevent';\nimport { userData } from '../App';\nimport { useCallback } from 'react';\nimport Spinner from '../microComponents/spinner'\nconst Home = () => {\n   const user = useContext(userData);\n   // console.log(user, 'context');\n   const [state, setState] = useState({\n   month: new Date().getMonth(),\n   year: new Date().getFullYear(),\n   });\n   const months = [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December',\n   ];\n\n   const highlightDate = (item) => {\n      if (\n         item + 1 == new Date().toString().split(' ')[2] &&\n         state.month == new Date().getMonth() &&\n         state.year == new Date().getFullYear()\n      ) {\n         return 'date highlight';\n      } else {\n         return 'date';\n      }\n   };\n\n   const upMonth = () => {\n      const statee = { ...state };\n      if (state.month == 11) {\n         statee.year += 1;\n         statee.month = 0;\n      } else {\n         statee.month = (statee.month + 1) % 12;\n      }\n      console.log(state, 'state');\n      setState(statee);\n   };\n   const downMonth = () => {\n      const statee = { ...state };\n      if (statee.month == 0) {\n         statee.year -= 1;\n         statee.month = 11;\n      } else {\n         statee.month = (statee.month - 1) % 12;\n      }\n\n      setState(statee);\n   };\n\n   const daysInMonth = (month, year) => {\n      switch (month) {\n         case 0:\n            return 31;\n         case 1:\n            if (year % 4 == 0) {\n               return 29;\n            } else {\n               return 28;\n            }\n         case 2:\n            return 31;\n         case 3:\n            return 30;\n         case 4:\n            return 31;\n         case 5:\n            return 30;\n         case 6:\n            return 31;\n         case 7:\n            return 31;\n         case 8:\n            return 30;\n         case 9:\n            return 31;\n         case 10:\n            return 30;\n         case 11:\n            return 31;\n      }\n   };\n\n   const createCalendar = (month, year) => {\n      const Start = new Date(months[month] + ' ' + year);\n      const StartParts = Start.toString().split(' ');\n      var date = [...Array(daysInMonth(month, year)).keys()];\n      switch (StartParts[0].toLowerCase()) {\n         case 'mon':\n            break;\n         case 'tue':\n            date.unshift(-1);\n            break;\n         case 'wed':\n            date.unshift(-1, -1);\n            break;\n         case 'thu':\n            date.unshift(-1, -1, -1);\n            break;\n         case 'fri':\n            date.unshift(-1, -1, -1, -1);\n            break;\n         case 'sat':\n            date.unshift(-1, -1, -1, -1, -1);\n            break;\n         case 'sun':\n            date.unshift(-1, -1, -1, -1, -1, -1);\n            break;\n      }\n      const dateLen = date.length%7\n      if (dateLen == 0) {\n         [...Array(7).keys()].map((i) => {\n            console.log(i)\n            date.push(-1)\n         })\n      }\n      return date;\n   };\n   const [focused, Focus] = useState(0);\n   return (\n      <React.Fragment>\n         <div className=\"month\">\n            <ul>\n               <li>\n                  <b>{user.username}</b>\n               </li>\n               <br />\n               <li className=\"prev\">\n                  <motion.button\n                     onClick={() => downMonth()}\n                     className=\"btn btn-secondary\"\n                     whileHover={{ scale: 1.1 }}\n                     whileTap={{ scale: 0.9 }}\n                  >\n                     {/* &#10094; */}\n                     <svg\n                        width=\"1em\"\n                        height=\"1em\"\n                        viewBox=\"0 0 16 16\"\n                        class=\"bi bi-caret-left-fill\"\n                        fill=\"currentColor\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                     >\n                        <path d=\"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\" />\n                     </svg>\n                  </motion.button>\n               </li>\n               <li className=\"next\">\n                  <motion.button\n                     onClick={() => upMonth()}\n                     className=\"btn btn-secondary\"\n                     whileHover={{ scale: 1.1 }}\n                     transition={{}}\n                     whileTap={{ scale: 0.9 }}\n                  >\n                     {/* &#10095; */}\n                     <svg\n                        width=\"1em\"\n                        height=\"1em\"\n                        viewBox=\"0 0 16 16\"\n                        class=\"bi bi-caret-right-fill\"\n                        fill=\"currentColor\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                     >\n                        <path d=\"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\" />\n                     </svg>\n                  </motion.button>\n               </li>\n               <li>\n                  <span id=\"monthName\">{months[state.month]}</span>\n                  <br />\n                  <span id=\"yearNum\">{state.year}</span>\n               </li>\n            </ul>\n         </div>\n         <div className=\"cal-flex\">\n            <ul className=\"weekdays\">\n               <li>Mo</li>\n               <li>Tu</li>\n               <li>We</li>\n               <li>Th</li>\n               <li>Fr</li>\n               <li>Sa</li>\n               <li>Su</li>\n            </ul>\n         </div>\n         <br/>\n         <ul className=\"days\">\n            {createCalendar(state.month, state.year).map((item) => (\n               <li>\n                  {item == -1 ? (\n                     <span className=\"wrong\">\n                        {item == -1 ? '-' : item + 1}\n                     </span>\n                  ) : (\n                     <Link\n                        to={`/home/${1 + item}/${state.month}/${state.year}`}\n                     >\n                        <span className={highlightDate(item)}>{item + 1}</span>\n                     </Link>\n                  )}\n               </li>\n            ))}\n         </ul>\n\n         <br />\n         <br />\n         <AnimateSharedLayout>\n            <motion.div\n               className=\"float pt-4\"\n               initial={{ opacity: 0, y: -100 }}\n               animate={{\n                  opacity: 1,\n                  y: 0,\n                  transition: {\n                     when: 'afterChildren',\n                     staggerChildren: 0.4,\n                  },\n               }}\n            >\n               {user.events &&\n                  user.events.map((item, index) =>\n                     item.id == user.data.id ? (\n                        <Event\n                           index={index}\n                           title={item.title}\n                           date={item.date}\n                           duration={item.duration}\n                           onDelete={() => leaveEvent(item.relation)}\n                           //onFocus={() => Focus(!focused && index + 1)}\n                           //use index+1 becasue false&&0 returns 0, they are both falsey\n                        />\n                     ) : (\n                        <Friendevent\n                           index={index}\n                           title={item.title}\n                           date={item.date}\n                           duration={item.duration}\n                           owner={item.username}\n                           onLeave={() => leaveEvent(item.relation)}\n                           //onFocus={() => Focus(index)}\n                        />\n                     )\n                  )}\n            </motion.div>\n         </AnimateSharedLayout>\n         {/* </div> */}\n      </React.Fragment>\n   );\n   const variants = {\n      hidden: { opacity: 0 },\n      visible: { transition: { staggerChildren: 1, delayChildren: 1 } },\n   };\n   async function leaveEvent(realtionship) {\n      // console.log(realtionship, 'relationshp');\n      const cookie = localStorage.getItem('token');\n      return await axios.post(\n         `http://localhost:8000/leaveevent/${realtionship}`,\n         {},\n         { headers: { Authorization: 'Bearer ' + cookie } }\n      );\n   }\n};\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}