{"ast":null,"code":"var _jsxFileName = \"/Users/jackbocresion/Desktop/YoCal copy/client/app-client/src/components/CreateEvent.jsx\";\nimport React, { useRef } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { motion, useAnimation, useCycle } from 'framer-motion';\nimport { useContext, useState } from 'react';\nimport { userData } from '../App';\nimport { useEffect } from 'react';\nimport { AnimateSharedLayout } from 'framer-motion';\nimport AddFreind from './Friends/friendEventCard';\nimport { forwardRef } from 'react';\nimport AddFriend from './Friends/friendEventCard';\nimport Progress from '../microComponents/progress';\nimport '../styles/create.scss';\nimport { months } from \"./functions/calendars\";\nimport { useHistory } from \"react-router-dom\";\nconst variants = {\n  hidden: {\n    opacity: 0\n  },\n  visible: {\n    opacity: 1\n  }\n};\n\nconst CreateEvent = props => {\n  const history = useHistory();\n\n  const submitEvent = async (date, title, duration) => {\n    try {\n      const {\n        data\n      } = await axios.post('http://localhost:8000/createevent', {\n        date: date,\n        title: title,\n        duration: duration\n      }, {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('token')\n        }\n      });\n      console.log(\"EVENT RESPONSE\", data.uid);\n      console.log(data);\n      return data.uid;\n    } catch (e) {\n      console.log(\"ERROR IN cREATING AND RETRIVING UUID\", e);\n    } //history.push(\"/home\")\n\n  };\n\n  const validateOptions = async () => {\n    if (title.length < 4 || title.length > 60) {\n      return errors.current.innerHTML = 'your event name must be between 4 and 60 characters';\n    } else if (hour.current.value.toLowerCase() == 'hour' || mins.current.value.toLowerCase() == 'minutes' || tod.current.value.toLowerCase() == 'am/pm') {\n      return errors.current.innerHTML = 'please enter a valid time for your event';\n    }\n\n    const eventDuration = parseInt(duration.current.value);\n    const eventDate = new Date(`${months[props.match.params.month]} ${props.match.params.day} ${props.match.params.year} ${parseInt(hour.current.value) + 1}:${mins.current.value} ${tod.current.value}`).toISOString();\n    const uid = await submitEvent(eventDate, title, eventDuration);\n    console.log(\"UID,\", uid); //make duration date\n\n    setUser({ ...user,\n      events: user.events.set(uid, {\n        creator: user.uuid,\n        date: eventDate,\n        duration: eventDuration,\n        eventid: uid,\n        title: title\n      })\n    });\n    history.push(\"/home\");\n  };\n\n  const [user, setUser] = useContext(userData);\n\n  const formatYear = () => {\n    const date = new Date();\n\n    if (date.getFullYear() == props.match.params.year) {\n      return '';\n    } else {\n      return props.match.params.year;\n    }\n  };\n\n  const hour = useRef(),\n        mins = useRef(),\n        tod = useRef(),\n        errors = useRef(),\n        duration = useRef();\n  const [title, setTitle] = useState('');\n  const controls = useAnimation();\n  const animations = {\n    exit: {\n      x: -1000,\n      opacity: 0,\n      duration: 0.2\n    },\n    enter: {\n      x: 0,\n      opacity: 1,\n      duration: 0.2\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-5 pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    initial: animations.exit,\n    animate: controls,\n    className: \"friends mx-5 float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    id: \"curdate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 16\n    }\n  }, \"Scheduling event for \", months[props.match.params.month], ' ', props.match.params.day, \" \", formatYear()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selectors-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    id: \"hour\",\n    className: \"form-select form-select-sm\",\n    style: {\n      width: '100px',\n      borderRadius: 10\n    },\n    ref: hour,\n    name: \"hour\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 22\n    }\n  }, \"Hour\"), [...Array(12).keys()].map(item => /*#__PURE__*/React.createElement(\"option\", {\n    value: item,\n    key: item++,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, item))), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    ref: mins,\n    className: \"form-select form-select-sm\",\n    style: {\n      width: '100px',\n      borderRadius: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 22\n    }\n  }, \"Minute\"), [...Array(2).keys()].map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }, '0' + 5 * item)), [...Array(10).keys()].map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item++,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, 5 * (item + 1)))), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      width: '100px',\n      borderRadius: 10\n    },\n    className: \"form-select form-select-sm\",\n    ref: tod,\n    id: \"tod\",\n    name: \"tod\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 22\n    }\n  }, \"AM/PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 22\n    }\n  }, \"AM\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 22\n    }\n  }, \"PM\")), \"\\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 19\n    }\n  }, \"\\xA0for\\xA0\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      width: '100px',\n      borderRadius: 10\n    },\n    className: \"form-select form-select-sm\",\n    ref: duration,\n    onChange: () => console.log(duration.current.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 19\n    }\n  }, [...Array(4).keys()].map(i => 15 * i < 10 ? /*#__PURE__*/React.createElement(\"option\", {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 28\n    }\n  }, \"No duration\") :\n  /*#__PURE__*/\n  //set VCALUES TO THE MINUTE UNIT!!!\n  React.createElement(\"option\", {\n    value: 15 * i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 28\n    }\n  }, 15 * i, \" Minutes\")), /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    value: 60,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 22\n    }\n  }, \"1 Hour\"), [...Array(5).keys()].map(i => /*#__PURE__*/React.createElement(\"option\", {\n    value: 60 * (2 + i),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 25\n    }\n  }, 2 + i, \" Hours\") //UPLOAD TO DB AS A DATE\n  ), /*#__PURE__*/React.createElement(\"option\", {\n    value: 9 * 60,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 22\n    }\n  }, \"9 Hours\")), /*#__PURE__*/React.createElement(\"input\", {\n    //onClick={() => showFriends()}\n    type: \"checkbox\",\n    className: \"form-check-input mt-2 mx-3\" //style={{}}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 16\n    }\n  }), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => updateTitle(e),\n    value: title,\n    className: \"form-control create-event\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Progress, {\n    done: title.length,\n    size: '60%',\n    complete: 40,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    ref: errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(motion.button, {\n    whileHover: {\n      scale: 1.2\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    onClick: validateOptions,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 16\n    }\n  }, \"Create event\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    whileHover: {\n      scale: 1.2\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    className: \"btn btn-sm btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 19\n    }\n  }, \"\\u276E home\")))));\n\n  function updateTitle(e) {\n    console.log(e.target.value);\n\n    if (e.target.value.length > 40) {\n      return 0;\n    }\n\n    setTitle(e.target.value);\n  }\n};\n\nexport default CreateEvent;","map":{"version":3,"sources":["/Users/jackbocresion/Desktop/YoCal copy/client/app-client/src/components/CreateEvent.jsx"],"names":["React","useRef","axios","Link","motion","useAnimation","useCycle","useContext","useState","userData","useEffect","AnimateSharedLayout","AddFreind","forwardRef","AddFriend","Progress","months","useHistory","variants","hidden","opacity","visible","CreateEvent","props","history","submitEvent","date","title","duration","data","post","headers","Authorization","localStorage","getItem","console","log","uid","e","validateOptions","length","errors","current","innerHTML","hour","value","toLowerCase","mins","tod","eventDuration","parseInt","eventDate","Date","match","params","month","day","year","toISOString","setUser","user","events","set","creator","uuid","eventid","push","formatYear","getFullYear","setTitle","controls","animations","exit","x","enter","width","borderRadius","Array","keys","map","item","marginTop","i","updateTitle","scale","target"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { motion, useAnimation, useCycle } from 'framer-motion';\nimport { useContext, useState } from 'react';\nimport { userData } from '../App';\nimport { useEffect } from 'react';\nimport { AnimateSharedLayout } from 'framer-motion';\nimport AddFreind from './Friends/friendEventCard';\nimport { forwardRef } from 'react';\nimport AddFriend from './Friends/friendEventCard';\nimport Progress from '../microComponents/progress';\nimport '../styles/create.scss';\nimport { months } from \"./functions/calendars\"\nimport {useHistory} from \"react-router-dom\"\nconst variants = {\n   hidden: { opacity: 0 },\n   visible: { opacity: 1 },\n};\nconst CreateEvent = (props) => {\n   const history = useHistory()\n   const submitEvent = async (\n      date,\n      title,\n      duration\n   ) => {\n      try {\n         const {data} = await axios\n            .post(\n               'http://localhost:8000/createevent',\n               {\n                  date: date,\n                  title: title,\n                  duration: duration,\n               },\n               {\n                  headers: {\n                     Authorization: 'Bearer ' + localStorage.getItem('token'),\n                  },\n               }\n            )\n         console.log(\"EVENT RESPONSE\", data.uid)\n         console.log(data)\n         return data.uid\n      } catch (e) {\n         console.log(\"ERROR IN cREATING AND RETRIVING UUID\", e)\n      }\n            //history.push(\"/home\")\n   };\n   const validateOptions = async () => {\n      if (title.length < 4 || title.length > 60) {\n         return (errors.current.innerHTML =\n            'your event name must be between 4 and 60 characters');\n      } else if (\n         hour.current.value.toLowerCase() == 'hour' ||\n         mins.current.value.toLowerCase() == 'minutes' ||\n         tod.current.value.toLowerCase() == 'am/pm'\n      ) {\n         return (errors.current.innerHTML =\n            'please enter a valid time for your event');\n      }\n      const eventDuration = parseInt(duration.current.value);\n      const eventDate = new Date(\n         `${months[props.match.params.month]} ${props.match.params.day} ${\n            props.match.params.year\n         } ${parseInt(hour.current.value) + 1}:${mins.current.value} ${\n            tod.current.value\n         }`\n      ).toISOString();\n      const uid = await submitEvent(eventDate, title, eventDuration);\n      console.log(\"UID,\", uid)\n      //make duration date\n      setUser({\n         ...user,\n         events: user.events.set(uid, {\n            creator: user.uuid,\n            date: eventDate,\n            duration: eventDuration,\n            eventid: uid,\n            title: title,\n         }),\n      });\n      history.push(\"/home\")\n   };\n   const [user, setUser] = useContext(userData);\n\n   const formatYear = () => {\n      const date = new Date();\n      if (date.getFullYear() == props.match.params.year) {\n         return '';\n      } else {\n         return props.match.params.year;\n      }\n   };\n\n   const hour = useRef(),\n      mins = useRef(),\n      tod = useRef(),\n      errors = useRef(),\n      duration = useRef();\n   const [title, setTitle] = useState('');\n   const controls = useAnimation();\n\n\n   const animations = {\n      exit: {\n         x: -1000,\n         opacity: 0,\n         duration: 0.2,\n      },\n      enter: {\n         x: 0,\n         opacity: 1,\n         duration: 0.2,\n      },\n   };\n   return (\n      <>\n         <div className=\"px-5 pt-5\">\n            <motion.div\n               initial={animations.exit}\n               animate={controls}\n               className=\"friends mx-5 float-right\"\n            >\n            </motion.div>\n            <div className=\"px-4\">\n               <h1 id=\"curdate\">\n                  Scheduling event for {months[props.match.params.month]}{' '}\n                  {props.match.params.day} {formatYear()}\n               </h1>\n               <div className=\"selectors-flex\">\n                  <select\n                     id=\"hour\"\n                     className=\"form-select form-select-sm\"\n                     style={{ width: '100px', borderRadius: 10 }}\n                     ref={hour}\n                     name=\"hour\"\n                  >\n                     <option selected disabled>\n                        Hour\n                     </option>\n                     {[...Array(12).keys()].map((item) => (\n                        <option value={item} key={item++}>\n                           {item}\n                        </option>\n                     ))}\n                  </select>\n                  &nbsp;\n                  <select\n                     ref={mins}\n                     className=\"form-select form-select-sm\"\n                     style={{ width: '100px', borderRadius: 10 }}\n                  >\n                     <option selected disabled>\n                        Minute\n                     </option>\n                     {[...Array(2).keys()].map((item) => (\n                        <option key={item}>{'0' + 5 * item}</option>\n                     ))}\n                     {[...Array(10).keys()].map((item) => (\n                        <option key={item++}>{5 * (item + 1)}</option>\n                     ))}\n                  </select>\n                  &nbsp;\n                  <select\n                     style={{ width: '100px', borderRadius: 10 }}\n                     className=\"form-select form-select-sm\"\n                     ref={tod}\n                     id=\"tod\"\n                     name=\"tod\"\n                  >\n                     <option disabled selected>\n                        AM/PM\n                     </option>\n                     <option>AM</option>\n                     <option>PM</option>\n                  </select>\n                  &nbsp;\n                  <div style={{ marginTop: '4px' }}>&nbsp;for&nbsp;</div>\n                  &nbsp;\n                  <select\n                     style={{ width: '100px', borderRadius: 10 }}\n                     className=\"form-select form-select-sm\"\n                     ref={duration}\n                     onChange={() => console.log(duration.current.value)}\n                  >\n                     {[...Array(4).keys()].map((i) =>\n                        15 * i < 10 ? (\n                           <option value={0}>No duration</option>\n                        ) : (\n                           //set VCALUES TO THE MINUTE UNIT!!!\n                           <option value={15 * i}>{15 * i} Minutes</option>\n                        )\n                     )}\n                     <option selected value={60}>\n                        1 Hour\n                     </option>\n                     {[...Array(5).keys()].map((i) => (\n                        <option value={60 * (2 + i)}>{2 + i} Hours</option>\n                        //UPLOAD TO DB AS A DATE\n                     ))}\n                     <option value={9 * 60}>9 Hours</option>\n                  </select>\n                  <input\n                     //onClick={() => showFriends()}\n                     type=\"checkbox\"\n                     className=\"form-check-input mt-2 mx-3\"\n                     //style={{}}\n                  />\n               </div>\n               <br />\n               &nbsp;&nbsp;\n               <div className=\"float-left\">\n                  <input\n                     onChange={(e) => updateTitle(e)}\n                     value={title}\n                     className=\"form-control create-event\"\n                  />\n                  <Progress done={title.length} size={'60%'} complete={40}/>\n               </div>\n               <span className=\"error\" ref={errors}></span>\n               <br />\n               <br />\n               <motion.button\n                  whileHover={{\n                     scale: 1.2,\n                  }}\n                  whileTap={{\n                     scale: 0.9,\n                  }}\n                  onClick={validateOptions}\n                  className=\"btn btn-primary\"\n               >\n                  Create event\n               </motion.button>\n               <br />\n               <br />\n               <Link to=\"/home\">\n                  <motion.button\n                     whileHover={{\n                        scale: 1.2,\n                     }}\n                     whileTap={{\n                        scale: 0.9,\n                     }}\n                     className=\"btn btn-sm btn-secondary\"\n                  >\n                     &#10094; home\n                  </motion.button>\n               </Link>\n            </div>\n         </div>\n         {/* <br/><br/><br/> */}\n      </>\n   );\n\n\n   function updateTitle(e) {\n      console.log(e.target.value);\n      if (e.target.value.length > 40) {return 0}\n      setTitle(e.target.value);\n   }\n};\n\nexport default CreateEvent;\n"]},"metadata":{},"sourceType":"module"}