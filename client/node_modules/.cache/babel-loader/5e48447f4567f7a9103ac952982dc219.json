{"ast":null,"code":"var _jsxFileName = \"/Users/jackbocresion/Desktop/Final App sql/client/app-client/src/components/Friends.jsx\";\nimport React, { useEffect, useState, useContext, useRef } from 'react';\nimport axios from 'axios';\nimport { motion } from 'framer-motion';\nimport { userData } from '../App';\nimport { Link } from 'react-router-dom';\nimport Incoming from './Friends/incoming';\nimport Outgoing from './Friends/outgoing';\nimport Friend from './Friends/friend';\nimport { capitalize } from 'lodash';\n\nconst Friends = props => {\n  const user = useContext(userData);\n  const variants = {\n    hidden: {\n      opacity: 0\n    },\n    visible: {\n      opacity: 1\n    }\n  };\n  const [state, setState] = useState({});\n  useEffect(() => {\n    setState({\n      reqs: props.friendReqs,\n      friends: props.friends\n    });\n  }, [props]);\n  const [username, setUsername] = useState('');\n\n  async function request1() {\n    const cookie = localStorage.getItem('token'); //console.log(username.current.value);\n\n    axios.post('http://localhost:8000/reqfriend', {\n      user: username\n    }, {\n      headers: {\n        Authorization: 'Bearer ' + cookie\n      }\n    }).then(res => {\n      console.log('?', res);\n      setError({\n        message: 'Sent request to ' + username,\n        class: 'text-success'\n      });\n      user.refresh();\n    }).catch(err => {\n      console.log(err, 'caught');\n      let {\n        status\n      } = err.response;\n\n      switch (status) {\n        case 404:\n          setError({\n            message: 'This user does not exist!',\n            class: 'error'\n          });\n          break;\n\n        case 400:\n          setError({\n            message: \"You've already requested this user!\",\n            class: 'error'\n          });\n          break;\n\n        case 403:\n          setError({\n            message: 'You cannot request yourself!',\n            class: 'error'\n          });\n          break;\n\n        case 409:\n          setError({\n            message: 'You are already friends with this user!',\n            class: 'error'\n          });\n      }\n    });\n  }\n\n  async function handleAccept(id) {\n    const cookie = localStorage.getItem('token');\n    return await axios.post('http://localhost:8000/acceptfriend/' + id, {}, {\n      headers: {\n        Authorization: 'Bearer ' + cookie\n      }\n    });\n  }\n\n  async function handleDecline(id) {\n    console.log(id);\n    console.log('deleting...');\n    const cookie = localStorage.getItem('token');\n    return await axios.post('http://localhost:8000/deleterequest/' + id, {}, {\n      headers: {\n        Authorization: 'Bearer ' + cookie\n      }\n    });\n  }\n\n  async function handleRemove(id, friend) {\n    const cookie = localStorage.getItem('token');\n    return await axios.post('http://localhost:8000/removefriend/' + id + '/' + friend, {}, {\n      headers: {\n        Authorization: 'Bearer ' + cookie\n      }\n    });\n  }\n\n  async function takeBack(id) {\n    const cookie = localStorage.getItem('token');\n    return await axios.post('http://localhost:8000/takeback/' + id, {}, {\n      headers: {\n        Authorization: 'Bearer ' + cookie\n      }\n    });\n  }\n\n  const [error, setError] = useState({\n    message: null,\n    class: null\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mx-5 my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 10\n    }\n  }, capitalize(user.username), \"'s friend page!\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setUsername(e.target.value),\n    value: username,\n    className: \"form-control w-50\",\n    style: {\n      borderRadius: 13\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 10\n    }\n  }, (user.incoming && user.incoming.length + user.outgoing.length) > 0 ? /*#__PURE__*/React.createElement(motion.h2, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    transition: {\n      delay: 0.3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 16\n    }\n  }, \"Requests\") : null, user.incoming && user.incoming.map((i, index) => /*#__PURE__*/React.createElement(Incoming, {\n    index: index,\n    onDecline: () => handleDecline(i.relationship),\n    onAccept: () => handleAccept(i.relationship).then(() => user.refresh()),\n    name: i.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  })), user.outgoing && user.outgoing.map((i, index) => /*#__PURE__*/React.createElement(Outgoing, {\n    index: index,\n    name: i.username,\n    onTakeBack: () => takeBack(i.relationship),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  })), user.friends && user.friends.length > 0 ? /*#__PURE__*/React.createElement(motion.h2, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    transition: {\n      delay: 0.3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 16\n    }\n  }, \"Friends\") : null, user.friends && user.friends.map((i, index) => /*#__PURE__*/React.createElement(Friend, {\n    index: index,\n    onRemove: () => handleRemove(user.data.id, i.id),\n    name: i.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    className: error.class,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 10\n    }\n  }, error.message), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(motion.button, {\n    className: \"btn-primary btn\",\n    onClick: () => {\n      request1();\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    whileHover: {\n      scale: 1.1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 10\n    }\n  }, \"Request\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    className: \"btn-secondary btn btn-sm my-4\",\n    whileTap: {\n      scale: 0.9\n    },\n    whileHover: {\n      scale: 1.1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, ' ', \"\\u276E home\")));\n};\n\nexport default Friends;","map":{"version":3,"sources":["/Users/jackbocresion/Desktop/Final App sql/client/app-client/src/components/Friends.jsx"],"names":["React","useEffect","useState","useContext","useRef","axios","motion","userData","Link","Incoming","Outgoing","Friend","capitalize","Friends","props","user","variants","hidden","opacity","visible","state","setState","reqs","friendReqs","friends","username","setUsername","request1","cookie","localStorage","getItem","post","headers","Authorization","then","res","console","log","setError","message","class","refresh","catch","err","status","response","handleAccept","id","handleDecline","handleRemove","friend","takeBack","error","e","target","value","borderRadius","incoming","length","outgoing","delay","map","i","index","relationship","data","scale"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext, useRef } from 'react';\nimport axios from 'axios';\nimport { motion } from 'framer-motion';\nimport { userData } from '../App';\nimport { Link } from 'react-router-dom';\nimport Incoming from './Friends/incoming';\nimport Outgoing from './Friends/outgoing';\nimport Friend from './Friends/friend';\nimport { capitalize } from 'lodash';\nconst Friends = (props) => {\n   const user = useContext(userData);\n   const variants = {\n      hidden: { opacity: 0 },\n      visible: { opacity: 1 },\n   };\n   const [state, setState] = useState({});\n   useEffect(() => {\n      setState({\n         reqs: props.friendReqs,\n         friends: props.friends,\n      });\n   }, [props]);\n\n   const [username, setUsername] = useState('')\n\n   async function request1() {\n      const cookie = localStorage.getItem('token');\n      //console.log(username.current.value);\n      axios\n         .post(\n            'http://localhost:8000/reqfriend',\n            { user: username },\n            {\n               headers: {\n                  Authorization: 'Bearer ' + cookie,\n               },\n            }\n         )\n         .then((res) => {\n            console.log('?', res);\n            setError({\n               message: 'Sent request to ' + username,\n               class: 'text-success',\n            });\n            user.refresh();\n         })\n         .catch((err) => {\n            console.log(err, 'caught');\n            let { status } = err.response;\n\n            switch (status) {\n               case 404:\n                  setError({\n                     message: 'This user does not exist!',\n                     class: 'error',\n                  });\n                  break;\n               case 400:\n                  setError({\n                     message: \"You've already requested this user!\",\n                     class: 'error',\n                  });\n                  break;\n               case 403:\n                  setError({\n                     message: 'You cannot request yourself!',\n                     class: 'error',\n                  });\n                  break;\n               case 409:\n                  setError({\n                     message: 'You are already friends with this user!',\n                     class: 'error',\n                  });\n            }\n         });\n   }\n   async function handleAccept(id) {\n      const cookie = localStorage.getItem('token');\n      return await axios.post(\n         'http://localhost:8000/acceptfriend/' + id,\n         {},\n         { headers: { Authorization: 'Bearer ' + cookie } }\n      );\n   }\n   async function handleDecline(id) {\n      console.log(id);\n      console.log('deleting...');\n      const cookie = localStorage.getItem('token');\n      return await axios.post(\n         'http://localhost:8000/deleterequest/' + id,\n         {},\n         { headers: { Authorization: 'Bearer ' + cookie } }\n      );\n   }\n   async function handleRemove(id, friend) {\n      const cookie = localStorage.getItem('token');\n      return await axios.post(\n         'http://localhost:8000/removefriend/' + id + '/' + friend,\n         {},\n         { headers: { Authorization: 'Bearer ' + cookie } }\n      );\n   }\n   async function takeBack(id) {\n      const cookie = localStorage.getItem('token');\n      return await axios.post(\n         'http://localhost:8000/takeback/' + id,\n         {},\n         { headers: { Authorization: 'Bearer ' + cookie } }\n      );\n   }\n   const [error, setError] = useState({ message: null, class: null });\n\n   return (\n      <div className=\"mx-5 my-4\">\n         <h1>{capitalize(user.username)}'s friend page!</h1>\n         <input\n            onChange={(e) => setUsername(e.target.value)}\n            value={username}\n            className=\"form-control w-50\"\n            style={{ borderRadius: 13 }}\n         />\n         <div className=\"float-right\">\n            {(user.incoming && user.incoming.length + user.outgoing.length) >\n            0 ? (\n               <motion.h2\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ delay: 0.3 }}\n               >\n                  Requests\n               </motion.h2>\n            ) : null}\n            {/* change to sharedlayout and hide with null. */}\n            {user.incoming &&\n               user.incoming.map((i, index) => (\n                  <Incoming\n                     index={index}\n                     onDecline={() => handleDecline(i.relationship)}\n                     onAccept={() =>\n                        handleAccept(i.relationship).then(() => user.refresh())\n                     }\n                     name={i.username}\n                  />\n               ))}\n            {user.outgoing &&\n               user.outgoing.map((i, index) => (\n                  <Outgoing\n                     index={index}\n                     name={i.username}\n                     onTakeBack={() => takeBack(i.relationship)}\n                  />\n               ))}\n            {user.friends && user.friends.length > 0 ? (\n               <motion.h2\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ delay: 0.3 }}\n               >\n                  Friends\n               </motion.h2>\n            ) : null}\n            {user.friends &&\n               user.friends.map((i, index) => (\n                  <Friend\n                     index={index}\n                     onRemove={() => handleRemove(user.data.id, i.id)}\n                     name={i.username}\n                  />\n               ))}\n         </div>\n         <span className={error.class}>{error.message}</span>\n         <br />\n\n         <motion.button\n            className=\"btn-primary btn\"\n            onClick={() => {\n               request1();\n            }}\n            whileTap={{ scale: 0.9 }}\n            whileHover={{ scale: 1.1 }}\n         >\n            Request\n         </motion.button>\n\n         <br />\n         <Link to=\"/home\">\n            <motion.button\n               className=\"btn-secondary btn btn-sm my-4\"\n               whileTap={{ scale: 0.9 }}\n               whileHover={{ scale: 1.1 }}\n            >\n               {' '}\n               &#10094; home\n            </motion.button>\n         </Link>\n      </div>\n   );\n};\nexport default Friends;\n"]},"metadata":{},"sourceType":"module"}