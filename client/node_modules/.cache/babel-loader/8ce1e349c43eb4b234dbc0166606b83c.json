{"ast":null,"code":"var _jsxFileName = \"/Users/jackbocresion/Desktop/Final App sql/client/app-client/src/components/Edit.jsx\";\nimport React, { useContext, useRef, useState } from 'react';\nimport { userData } from '../App';\nimport { motion, useMotionTemplate } from 'framer-motion';\nimport { Link, useParams, useLocation } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport Event from '../components/animatedEvent';\nimport Progress from \"../microComponents/progress\";\nimport \"../styles/forms.scss\";\nimport { set } from 'lodash';\nimport { useHistory } from 'react-router-dom';\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\nDate.prototype.getInfo = function () {\n  return {\n    day: this.getDate(),\n    month: this.getMonth(),\n    year: this.getFullYear(),\n    hour: this.getHours() > 12 ? this.getHours() % 12 : this.getHours() == 0 ? 12 : this.getHours(),\n    minute: this.getMinutes(),\n    tod: this.getHours() > 12 ? 2 : 1,\n    obj: this\n  };\n}; //add date changing!!\n\n\nexport default function Edit(props) {\n  const history = useHistory();\n  const user = useContext(userData);\n  const {\n    id\n  } = useParams(); //useparams\n\n  const [event, setEvent] = useState(user.allEvents && user.allEvents[id]);\n  useEffect(() => {\n    setEvent(user.allEvents && user.allEvents[id]);\n    console.log(event);\n  }, []);\n  const [error, setError] = useState('');\n\n  function updateTitle(e) {\n    if (e.target.value.length > 60) return setError('your event title must be between 4 and 60 characters');\n    setEvent({\n      title: e.target.value,\n      date: event.date,\n      duration: event.duration\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selectors-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    id: \"hour\",\n    className: \"form-select form-select-sm\",\n    style: {\n      width: '100px',\n      borderRadius: 10\n    },\n    name: \"hour\",\n    value: new Date(event.date).getHours(),\n    onChange: e => setEvent({\n      title: event.title,\n      date: new Date(event.date).setHours(e.target.value),\n      duration: event.duration\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, [...Array(12).keys()].map(item => /*#__PURE__*/React.createElement(\"option\", {\n    value: item,\n    key: item++,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, item))), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-select form-select-sm\",\n    style: {\n      width: '100px',\n      borderRadius: 10\n    },\n    onChange: e => setEvent({\n      title: event.title,\n      date: new Date(event.date).setMinutes(e.target.value),\n      duration: event.duration\n    }),\n    value: new Date(event.date).getInfo().minutes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, [...Array(2).keys()].map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, '0' + 5 * item)), [...Array(10).keys()].map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item++,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }, 5 * (item + 1)))), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      width: '100px',\n      borderRadius: 10\n    },\n    className: \"form-select form-select-sm\",\n    id: \"tod\",\n    name: \"tod\",\n    value: new Date(event.date).getInfo().tod == 1 ? 'AM' : 'PM',\n    onChange: e => setEvent({\n      title: event.title,\n      date: new Date(event.date).setHours((new Date(event.date).getHours() + 12) % 24),\n      duration: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 16\n    }\n  }, \"AM\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 16\n    }\n  }, \"PM\")), \"\\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"\\xA0for\\xA0\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      width: '130px',\n      borderRadius: 10\n    },\n    className: \"form-select form-select-sm\",\n    onChange: e => setEvent({\n      title: event.title,\n      date: event.date,\n      duration: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, [...Array(4).keys()].map(i => 15 * i < 10 ? /*#__PURE__*/React.createElement(\"option\", {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 22\n    }\n  }, \"No duration\") :\n  /*#__PURE__*/\n  //set VCALUES TO THE MINUTE UNIT!!!\n  React.createElement(\"option\", {\n    value: 15 * i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 22\n    }\n  }, 15 * i, \" Minutes\")), /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    value: 60,\n    selected: event.duration == 60 ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 16\n    }\n  }, \"1 Hour\"), [...Array(5).keys()].map(i => /*#__PURE__*/React.createElement(\"option\", {\n    value: 60 * (2 + i),\n    selected: event.duration == 60 * (2 + i) ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }\n  }, 2 + i, \" Hours\") //UPLOAD TO DB AS A DATE\n  ), /*#__PURE__*/React.createElement(\"option\", {\n    value: 9 * 60,\n    selected: event.duration == 9 * 60 ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 16\n    }\n  }, \"9 Hours\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control create-event\",\n    value: event && event.title,\n    onChange: e => updateTitle(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Progress, {\n    done: event.title.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(motion.button, {\n    whileHover: {\n      scale: 1.2\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, \"Confirm edits\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(motion.button, {\n    whileHover: {\n      scale: 1.2\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    className: \"btn btn-sm btn-danger mt-2\",\n    onClick: () => setEvent(user.allEvents && user.allEvents[id]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, \"Revert changes\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    whileHover: {\n      scale: 1.2\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    className: \"btn btn-sm btn-secondary\",\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 16\n    }\n  }, \"\\u276E home\"))));\n\n  async function update(id) {\n    return await axios.patch(`http://localhost:8000/edit/${id}`);\n  }\n}","map":{"version":3,"sources":["/Users/jackbocresion/Desktop/Final App sql/client/app-client/src/components/Edit.jsx"],"names":["React","useContext","useRef","useState","userData","motion","useMotionTemplate","Link","useParams","useLocation","useEffect","axios","Event","Progress","set","useHistory","months","Date","prototype","getInfo","day","getDate","month","getMonth","year","getFullYear","hour","getHours","minute","getMinutes","tod","obj","Edit","props","history","user","id","event","setEvent","allEvents","console","log","error","setError","updateTitle","e","target","value","length","title","date","duration","width","borderRadius","setHours","Array","keys","map","item","setMinutes","minutes","marginTop","i","scale","goBack","update","patch"],"mappings":"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","sourcesContent":["import React, { useContext, useRef, useState } from 'react';\nimport { userData } from '../App';\nimport { motion, useMotionTemplate } from 'framer-motion';\nimport { Link, useParams, useLocation } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport Event from '../components/animatedEvent';\nimport Progress from \"../microComponents/progress\"\nimport \"../styles/forms.scss\"\nimport { set } from 'lodash';\nimport { useHistory } from 'react-router-dom';\n\nconst months = [\n   'January',\n   'February',\n   'March',\n   'April',\n   'May',\n   'June',\n   'July',\n   'August',\n   'September',\n   'October',\n   'November',\n   'December',\n];\nDate.prototype.getInfo = function () {\n   return {\n      day: this.getDate(),\n      month: this.getMonth(),\n      year: this.getFullYear(),\n      hour:\n         this.getHours() > 12\n            ? this.getHours() % 12\n            : this.getHours() == 0\n            ? 12\n            : this.getHours(),\n      minute: this.getMinutes(),\n      tod: this.getHours() > 12 ? 2 : 1,\n      obj: this,\n   };\n};\n//add date changing!!\nexport default function Edit(props) {\n   const history = useHistory()\n   const user = useContext(userData);\n\n   const { id } = useParams();\n   //useparams\n   const [event, setEvent] = useState(user.allEvents && user.allEvents[id]);\n   useEffect(() => {\n      setEvent(user.allEvents && user.allEvents[id]);\n      console.log(event);\n   }, []);\n  const [error, setError] = useState('')\n  function updateTitle(e) {\n    if(e.target.value.length>60) return setError('your event title must be between 4 and 60 characters')\n    setEvent({\n      title: e.target.value,\n      date: event.date,\n      duration: event.duration,\n   })\n}\n  \n   return (\n      <div className=\"p-5\">\n         <div className=\"selectors-flex\">\n            <select\n               id=\"hour\"\n               className=\"form-select form-select-sm\"\n               style={{ width: '100px', borderRadius: 10 }}\n               name=\"hour\"\n               value={new Date(event.date).getHours()}\n               onChange={(e) =>\n                  setEvent({\n                     title: event.title,\n                     date: new Date(event.date).setHours(e.target.value),\n                     duration: event.duration,\n                  })\n               }\n            >\n               {[...Array(12).keys()].map((item) => (\n                  <option value={item} key={item++}>\n                     {item}\n                  </option>\n               ))}\n            </select>\n            &nbsp;\n            <select\n               className=\"form-select form-select-sm\"\n               style={{ width: '100px', borderRadius: 10 }}\n               onChange={(e) =>\n                  setEvent({\n                     title: event.title,\n                     date: new Date(event.date).setMinutes(e.target.value),\n                     duration: event.duration,\n                  })\n               }\n               value={new Date(event.date).getInfo().minutes}\n            >\n               {[...Array(2).keys()].map((item) => (\n                  <option key={item}>{'0' + 5 * item}</option>\n               ))}\n               {[...Array(10).keys()].map((item) => (\n                  <option key={item++}>{5 * (item + 1)}</option>\n               ))}\n            </select>\n            &nbsp;\n            <select\n               style={{ width: '100px', borderRadius: 10 }}\n               className=\"form-select form-select-sm\"\n               id=\"tod\"\n               name=\"tod\"\n               value={new Date(event.date).getInfo().tod==1?'AM':'PM'}\n               onChange={(e) =>\n                  setEvent({\n                     title: event.title,\n                     date: new Date(event.date).setHours(\n                        (new Date(event.date).getHours() + 12) % 24\n                     ),\n                     duration: e.target.value,\n                  })\n               }\n            >\n               <option>AM</option>\n               <option>PM</option>\n            </select>\n            &nbsp;\n            <div style={{ marginTop: '4px' }}>&nbsp;for&nbsp;</div>\n            &nbsp;\n            <select\n               style={{ width: '130px', borderRadius: 10 }}\n               className=\"form-select form-select-sm\"\n               onChange={(e) =>\n                  setEvent({\n                     title: event.title,\n                     date: event.date,\n                     duration: e.target.value,\n                  })\n               }\n            >\n               {[...Array(4).keys()].map((i) =>\n                  15 * i < 10 ? (\n                     <option value={0}>No duration</option>\n                  ) : (\n                     //set VCALUES TO THE MINUTE UNIT!!!\n                     <option value={15 * i}>{15 * i} Minutes</option>\n                  )\n               )}\n               <option\n                  selected\n                  value={60}\n                  selected={event.duration == 60 ? true : false}\n               >\n                  1 Hour\n               </option>\n               {[...Array(5).keys()].map((i) => (\n                  <option\n                     value={60 * (2 + i)}\n                     selected={event.duration == 60 * (2 + i) ? true : false}\n                  >\n                     {2 + i} Hours\n                  </option>\n                  //UPLOAD TO DB AS A DATE\n               ))}\n               <option\n                  value={9 * 60}\n                  selected={event.duration == 9 * 60 ? true : false}\n               >\n                  9 Hours\n               </option>\n            </select>\n         </div>\n         <br />\n         <div className=\"float-left\">\n            <input\n               className=\"form-control create-event\"\n               value={event && event.title}\n               onChange={(e) => updateTitle(e)}\n            />\n            <Progress done={event.title.length} />\n            <br />\n            <motion.button\n               whileHover={{\n                  scale: 1.2,\n               }}\n               whileTap={{\n                  scale: 0.9,\n               }}\n               className=\"btn btn-primary\"\n            >\n               Confirm edits\n            </motion.button>\n            <br />\n            <motion.button\n               whileHover={{\n                  scale: 1.2,\n               }}\n               whileTap={{\n                  scale: 0.9,\n               }}\n               className=\"btn btn-sm btn-danger mt-2\"\n               onClick={() => setEvent(user.allEvents && user.allEvents[id])}\n            >\n               Revert changes\n            </motion.button>\n            <br />\n            <br />\n            <Link to=\"/home\">\n               <motion.button\n                  whileHover={{\n                     scale: 1.2,\n                  }}\n                  whileTap={{\n                     scale: 0.9,\n                  }}\n                  className=\"btn btn-sm btn-secondary\"\n                  onClick={()=>history.goBack()}\n               >\n                  &#10094; home\n               </motion.button>\n            </Link>\n         </div>\n         {/* <h2>{event && event.date}</h2>\n         {new Date(event.date).toString()} */}\n      </div>\n   );\n   async function update(id) {\n      return await axios.patch(`http://localhost:8000/edit/${id}`);\n   }\n}\n"]},"metadata":{},"sourceType":"module"}