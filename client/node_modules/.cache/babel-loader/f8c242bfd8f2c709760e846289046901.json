{"ast":null,"code":"var _jsxFileName = \"/Users/jackbocresion/Desktop/Final App sql/client/app-client/src/components/CreateEvent.jsx\";\nimport React, { useRef } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { motion, useCycle } from 'framer-motion';\nimport { useContext, useState } from 'react';\nimport { userData } from '../App';\nimport { useEffect } from 'react';\nimport { AnimateSharedLayout } from 'framer-motion';\nimport AddFreind from './Friends/friendEventCard';\nimport { forwardRef } from 'react';\nimport AddFriend from './Friends/friendEventCard';\nimport Progress from '../microComponents/progress';\nimport \"../styles/create.scss\";\nconst variants = {\n  hidden: {\n    opacity: 0\n  },\n  visible: {\n    opacity: 1\n  }\n};\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\nconst CreateEvent = props => {\n  const user = useContext(userData);\n\n  const formatYear = () => {\n    const date = new Date();\n\n    if (date.getFullYear() == props.match.params.year) {\n      return '';\n    } else {\n      return props.match.params.year;\n    }\n  };\n\n  const submitEvent = (hour, minute, tod, day, month, year, title, duration) => {\n    console.log(day);\n    const eventDate = new Date(`${months[month]} ${day} ${year} ${hour}:${minute} ${tod}`);\n    console.log(eventDate, 'evetnt date');\n    axios.post('http://localhost:8000/createevent', {\n      date: eventDate,\n      title: title,\n      friends: added,\n      duration: duration\n    }, {\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(() => {\n      window.location.href = '/home';\n    }).catch(e => console.log('ERROR! '));\n  };\n\n  const //title = useRef(),\n  hour = useRef(),\n        mins = useRef(),\n        tod = useRef(),\n        errors = useRef(),\n        duration = useRef();\n\n  const validateOptions = () => {\n    if (title.length < 4 || title.length > 60) {\n      return errors.current.innerHTML = 'your event name must be between 4 and 60 characters';\n    } else if (hour.current.value.toLowerCase() == 'hour' || mins.current.value.toLowerCase() == 'minutes' || tod.current.value.toLowerCase() == 'am/pm') {\n      return errors.current.innerHTML = 'please enter a valid time for your event';\n    }\n\n    submitEvent(parseInt(hour.current.value) + 1, mins.current.value, tod.current.value, props.match.params.day, props.match.params.month, props.match.params.year, title, parseInt(duration.current.value)); //make duration date\n\n    window.location.href = '/home';\n  };\n\n  const [friendsShown, showFriends] = useCycle(false, true);\n  const [added, setAdded] = useState([]);\n\n  async function AddFriendToEvent(id) {\n    console.log([...added], 'added but spread');\n    let idk = [...added];\n    idk.push(id);\n    setAdded(idk);\n    console.log(added, 'after');\n  }\n\n  async function RemoveFriendFromEvent(id) {\n    console.log([...added], 'added but spread');\n    let idk = [...added];\n    idk.splice(idk.indexOf(id), 1);\n    setAdded(idk);\n    console.log(added, 'after');\n  }\n\n  const [title, setTitle] = useState('');\n\n  function updateTitle(e) {\n    console.log(e.target.value);\n    if (e.target.value.length > 60) return errors.current.innerHTML = 'your title must be less than 60 characters';\n    setTitle(e.target.value);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"friends mx-5 float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 10\n    }\n  }, friendsShown && user.friends.map(i => /*#__PURE__*/React.createElement(AddFriend, {\n    name: i.username,\n    onAdd: () => AddFriendToEvent(i.id),\n    onRemove: () => RemoveFriendFromEvent(i.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-5 pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    id: \"curdate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 16\n    }\n  }, \"Scheduling event for \", months[props.match.params.month], ' ', props.match.params.day, \" \", formatYear()), /*#__PURE__*/React.createElement(\"input\", {\n    onClick: () => {\n      showFriends();\n      setAdded([]);\n    },\n    type: \"checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selectors-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    id: \"hour\",\n    className: \"form-select form-select-sm\",\n    style: {\n      width: '100px'\n    },\n    ref: hour,\n    name: \"hour\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 22\n    }\n  }, \"Hour\"), [...Array(12).keys()].map(item => /*#__PURE__*/React.createElement(\"option\", {\n    value: item,\n    key: item++,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, item))), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    ref: mins,\n    className: \"form-select form-select-sm\",\n    style: {\n      width: '100px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 22\n    }\n  }, \"Minute\"), [...Array(10).keys()].map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, '0' + item)), [...Array(50).keys()].map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item++,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 25\n    }\n  }, 9 + item++))), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      width: '100px'\n    },\n    className: \"form-select form-select-sm\",\n    ref: tod,\n    id: \"tod\",\n    name: \"tod\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 22\n    }\n  }, \"AM/PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 22\n    }\n  }, \"AM\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 22\n    }\n  }, \"PM\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }, \"\\xA0for\\xA0\"), /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      width: '100px'\n    },\n    className: \"form-select form-select-sm\",\n    ref: duration,\n    onChange: () => console.log(duration.current.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 19\n    }\n  }, [...Array(4).keys()].map(i => 15 * i < 10 ? /*#__PURE__*/React.createElement(\"option\", {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 28\n    }\n  }, \"No duration\") :\n  /*#__PURE__*/\n  //set VCALUES TO THE MINUTE UNIT!!!\n  React.createElement(\"option\", {\n    value: 15 * i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 28\n    }\n  }, 15 * i, \" Minutes\")), /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    value: 60,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 22\n    }\n  }, \"1 Hour\"), [...Array(5).keys()].map(i => /*#__PURE__*/React.createElement(\"option\", {\n    value: 60 * (2 + i),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, 2 + i, \" Hours\") //UPLOAD TO DB AS A DATE\n  ), /*#__PURE__*/React.createElement(\"option\", {\n    value: 9 * 60,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 22\n    }\n  }, \"9 Hours\")), \"\\xA0\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => updateTitle(e),\n    value: title,\n    className: \"form-control create-event\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 22\n    }\n  }), /*#__PURE__*/React.createElement(Progress, {\n    done: title.length,\n    size: '100%',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    ref: errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(motion.button, {\n    whileHover: {\n      scale: 1.2\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    onClick: validateOptions,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 16\n    }\n  }, \"Create event\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(motion.button, {\n    whileHover: {\n      scale: 1.2\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    className: \"btn btn-sm btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 19\n    }\n  }, \"\\u276E home\")))));\n};\n\nexport default CreateEvent;","map":{"version":3,"sources":["/Users/jackbocresion/Desktop/Final App sql/client/app-client/src/components/CreateEvent.jsx"],"names":["React","useRef","axios","Link","motion","useCycle","useContext","useState","userData","useEffect","AnimateSharedLayout","AddFreind","forwardRef","AddFriend","Progress","variants","hidden","opacity","visible","months","CreateEvent","props","user","formatYear","date","Date","getFullYear","match","params","year","submitEvent","hour","minute","tod","day","month","title","duration","console","log","eventDate","post","friends","added","headers","Authorization","localStorage","getItem","then","window","location","href","catch","e","mins","errors","validateOptions","length","current","innerHTML","value","toLowerCase","parseInt","friendsShown","showFriends","setAdded","AddFriendToEvent","id","idk","push","RemoveFriendFromEvent","splice","indexOf","setTitle","updateTitle","target","map","i","username","width","Array","keys","item","marginTop","scale"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { motion, useCycle } from 'framer-motion';\nimport { useContext, useState } from 'react';\nimport { userData } from '../App';\nimport { useEffect } from 'react';\nimport { AnimateSharedLayout } from 'framer-motion';\nimport AddFreind from './Friends/friendEventCard';\nimport { forwardRef } from 'react';\nimport AddFriend from './Friends/friendEventCard';\nimport Progress from '../microComponents/progress';\nimport \"../styles/create.scss\"\nconst variants = {\n   hidden: { opacity: 0 },\n   visible: { opacity: 1 },\n};\nconst months = [\n   'January',\n   'February',\n   'March',\n   'April',\n   'May',\n   'June',\n   'July',\n   'August',\n   'September',\n   'October',\n   'November',\n   'December',\n];\nconst CreateEvent = (props) => {\n   const user = useContext(userData);\n\n   const formatYear = () => {\n      const date = new Date();\n      if (date.getFullYear() == props.match.params.year) {\n         return '';\n      } else {\n         return props.match.params.year;\n      }\n   };\n   const submitEvent = (\n      hour,\n      minute,\n      tod,\n      day,\n      month,\n      year,\n      title,\n      duration\n   ) => {\n      console.log(day);\n      const eventDate = new Date(\n         `${months[month]} ${day} ${year} ${hour}:${minute} ${tod}`\n      );\n      console.log(eventDate, 'evetnt date');\n      axios\n         .post(\n            'http://localhost:8000/createevent',\n            {\n               date: eventDate,\n               title: title,\n               friends: added,\n               duration: duration,\n            },\n            {\n               headers: {\n                  Authorization: 'Bearer ' + localStorage.getItem('token'),\n               },\n            }\n         )\n         .then(() => {\n            window.location.href = '/home';\n         })\n         .catch((e) => console.log('ERROR! '));\n   };\n\n   const //title = useRef(),\n      hour = useRef(),\n      mins = useRef(),\n      tod = useRef(),\n      errors = useRef(),\n      duration = useRef();\n   const validateOptions = () => {\n      if (title.length < 4 || title.length > 60) {\n         return (errors.current.innerHTML =\n            'your event name must be between 4 and 60 characters');\n      } else if (\n         hour.current.value.toLowerCase() == 'hour' ||\n         mins.current.value.toLowerCase() == 'minutes' ||\n         tod.current.value.toLowerCase() == 'am/pm'\n      ) {\n         return (errors.current.innerHTML =\n            'please enter a valid time for your event');\n      }\n      submitEvent(\n         parseInt(hour.current.value) + 1,\n         mins.current.value,\n         tod.current.value,\n         props.match.params.day,\n         props.match.params.month,\n         props.match.params.year,\n         title,\n         parseInt(duration.current.value)\n      );\n      //make duration date\n      window.location.href = '/home';\n   };\n\n   const [friendsShown, showFriends] = useCycle(false, true);\n   const [added, setAdded] = useState([]);\n\n   async function AddFriendToEvent(id) {\n      console.log([...added], 'added but spread');\n      let idk = [...added];\n      idk.push(id);\n      setAdded(idk);\n      console.log(added, 'after');\n   }\n   async function RemoveFriendFromEvent(id) {\n      console.log([...added], 'added but spread');\n      let idk = [...added];\n      idk.splice(idk.indexOf(id), 1);\n      setAdded(idk);\n      console.log(added, 'after');\n   }\n   const [title, setTitle] = useState('');\n   function updateTitle(e) {\n      console.log(e.target.value);\n      if (e.target.value.length > 60)\n         return (errors.current.innerHTML =\n            'your title must be less than 60 characters');\n      setTitle(e.target.value);\n   }\n   return (\n      <React.Fragment>\n         <div className=\"friends mx-5 float-right\">\n            {friendsShown &&\n               user.friends.map((i) => (\n                  <AddFriend\n                     name={i.username}\n                     onAdd={() => AddFriendToEvent(i.id)}\n                     onRemove={() => RemoveFriendFromEvent(i.id)}\n                  />\n               ))}\n         </div>\n         <div className=\"px-5 pt-5\">\n            <div className=\"px-4\">\n               <h1 id=\"curdate\">\n                  Scheduling event for {months[props.match.params.month]}{' '}\n                  {props.match.params.day} {formatYear()}\n               </h1>\n               <input\n                  onClick={() => {\n                     showFriends();\n                     setAdded([]);\n                  }}\n                  type=\"checkbox\"\n               />\n\n               <div className=\"selectors-flex\">\n                  <select\n                     id=\"hour\"\n                     className=\"form-select form-select-sm\"\n                     style={{ width: '100px' }}\n                     ref={hour}\n                     name=\"hour\"\n                  >\n                     <option selected disabled>\n                        Hour\n                     </option>\n                     {[...Array(12).keys()].map((item) => (\n                        <option value={item} key={item++}>\n                           {item}\n                        </option>\n                     ))}\n                  </select>\n                  &nbsp; &nbsp;\n                  <select\n                     ref={mins}\n                     className=\"form-select form-select-sm\"\n                     style={{ width: '100px' }}\n                  >\n                     <option selected disabled>\n                        Minute\n                     </option>\n                     {[...Array(10).keys()].map((item) => (\n                        <option key={item}>{'0' + item}</option>\n                     ))}\n                     {[...Array(50).keys()].map((item) => (\n                        <option key={item++}>{9 + item++}</option>\n                     ))}\n                  </select>\n                  &nbsp; \n                  <select\n                     style={{ width: '100px' }}\n                     className=\"form-select form-select-sm\"\n                     ref={tod}\n                     id=\"tod\"\n                     name=\"tod\"\n                  >\n                     <option disabled selected>\n                        AM/PM\n                     </option>\n                     <option>AM</option>\n                     <option>PM</option>\n                  </select>\n                  <div style={{ marginTop: '4px' }}>&nbsp;for&nbsp;</div>\n                  <select\n                     style={{ width: '100px' }}\n                     className=\"form-select form-select-sm\"\n                     ref={duration}\n                     onChange={() => console.log(duration.current.value)}\n                  >\n                     {[...Array(4).keys()].map((i) =>\n                        15 * i < 10 ? (\n                           <option value={0}>No duration</option>\n                        ) : (\n                           //set VCALUES TO THE MINUTE UNIT!!!\n                           <option value={15 * i}>{15 * i} Minutes</option>\n                        )\n                     )}\n                     <option selected value={60}>\n                        1 Hour\n                     </option>\n                     {[...Array(5).keys()].map((i) => (\n                        <option value={60 * (2 + i)}>{2 + i} Hours</option>\n                        //UPLOAD TO DB AS A DATE\n                     ))}\n                     <option value={9 * 60}>9 Hours</option>\n                  </select>\n                  {/* make each input increment by 5? */}\n                  &nbsp;\n                  <br />\n                  <br />\n                  <div>\n                     <input\n                        onChange={(e) => updateTitle(e)}\n                        value={title}\n                        className=\"form-control create-event\"\n                     />\n                     <Progress done={title.length} size={'100%'} />\n                  </div>\n                  <span className=\"error\" ref={errors}></span>\n                  <br />\n               </div>\n               <motion.button\n                  whileHover={{\n                     scale: 1.2,\n                  }}\n                  whileTap={{\n                     scale: 0.9,\n                  }}\n                  onClick={validateOptions}\n                  className=\"btn btn-primary\"\n               >\n                  Create event\n               </motion.button>\n\n               <br />\n               <br />\n               <Link to=\"/home\">\n                  <motion.button\n                     whileHover={{\n                        scale: 1.2,\n                     }}\n                     whileTap={{\n                        scale: 0.9,\n                     }}\n                     className=\"btn btn-sm btn-secondary\"\n                  >\n                     &#10094; home\n                  </motion.button>\n               </Link>\n            </div>\n         </div>\n      </React.Fragment>\n   );\n};\n\nexport default CreateEvent;\n\n"]},"metadata":{},"sourceType":"module"}